{"remainingRequest":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\src\\components\\Picture.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\src\\components\\Picture.vue","mtime":1582928101626},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3RvciI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIkM6XFxVc2Vyc1xcYXlhdG9cXERvY3VtZW50c1xcR2l0SHViXFxnYWxsZXJ5LW1hcC1jYXJcXGNsaWVudFxcbm9kZV9tb2R1bGVzXFxAYmFiZWxcXHJ1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7CmltcG9ydCBGaWxlVXBsb2FkIGZyb20gJy4vRmlsZVVwbG9hZC52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1BpY3R1cmUnLAogIGNvbXBvbmVudHM6IHsKICAgIEZpbGVVcGxvYWQ6IEZpbGVVcGxvYWQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwaWN0dXJlczogW10sCiAgICAgIHBpY3R1cmU6IHsKICAgICAgICBpZDogJycsCiAgICAgICAgdGl0bGU6ICcnLAogICAgICAgIGZpbGVuYW1lOiAnJywKICAgICAgICBpbmZvcm1hdGlvbjogJycKICAgICAgfSwKICAgICAgbW9kZTogJ2FkZCcsCiAgICAgIHBpY19maWxlbmFtZTogJycsCiAgICAgIHBpY190aXRsZTogJycsCiAgICAgIHBpY19pbmZvcm1hdGlvbjogJycsCiAgICAgIHBpY19zaXplOiAnc21hbGwnCiAgICB9OwogIH0sCiAgd2F0Y2g6IHsKICAgICRyb3V0ZTogZnVuY3Rpb24gJHJvdXRlKCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHNlbGYuZmV0Y2hQaWN0dXJlcygpOwogICAgfQogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuc2V0TW9kZSgpOwoKICAgIGlmICh0aGlzLm1vZGUgIT09ICdhZGQnKSB7CiAgICAgIHRoaXMuZmV0Y2hQaWN0dXJlcygpOwogICAgfQogIH0sCiAgbWV0aG9kczogewogICAgcGljdHVyZVVybDogZnVuY3Rpb24gcGljdHVyZVVybChmaWxlbmFtZSkgewogICAgICB2YXIgaW1hZ2VzID0gcmVxdWlyZS5jb250ZXh0KCcuLi8uLi8uLi9zZXJ2ZXIvdXBsb2Fkcy8nLCBmYWxzZSwgL1wuanBnfC5wbmd8LmpwZWckLyk7CgogICAgICByZXR1cm4gaW1hZ2VzKCIuLyIuY29uY2F0KGZpbGVuYW1lKSk7CiAgICB9LAogICAgY2xvc2VMaWdodGJveDogZnVuY3Rpb24gY2xvc2VMaWdodGJveCgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9GaWd1cmUnKTsKICAgIH0sCiAgICBlZGl0UGljdHVyZTogZnVuY3Rpb24gZWRpdFBpY3R1cmUoY3VycmVudFBpY0lkKSB7CiAgICAgIHRoaXMubW9kZSA9ICdlZGl0JzsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9waWN0dXJlLyIuY29uY2F0KGN1cnJlbnRQaWNJZCwgIiNlZGl0IikpOwogICAgfSwKICAgIHNob3dQaWN0dXJlOiBmdW5jdGlvbiBzaG93UGljdHVyZShjdXJyZW50UGljSWQsIGluY3JlbWVudCkgewogICAgICBjdXJyZW50UGljSWQgPSBOdW1iZXIoY3VycmVudFBpY0lkKTsKICAgICAgdmFyIG1heFBpY0lkID0gdGhpcy5waWN0dXJlc1t0aGlzLnBpY3R1cmVzLmxlbmd0aCAtIDFdLmlkOwogICAgICB2YXIgbWluUGljSWQgPSB0aGlzLnBpY3R1cmVzWzBdLmlkOwogICAgICB2YXIgbmV4dFBpY0lkID0gMDsKCiAgICAgIGlmIChjdXJyZW50UGljSWQgPCBtaW5QaWNJZCkgewogICAgICAgIG5leHRQaWNJZCA9IG1heFBpY0lkOwogICAgICB9IGVsc2UgaWYgKGN1cnJlbnRQaWNJZCA+IG1heFBpY0lkKSB7CiAgICAgICAgbmV4dFBpY0lkID0gbWluUGljSWQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIG5leHRQaWMgPSB0aGlzLnBpY3R1cmVzLmZpbmQoZnVuY3Rpb24gKHBpY3R1cmUpIHsKICAgICAgICAgIHJldHVybiBwaWN0dXJlLmlkID09PSBOdW1iZXIoY3VycmVudFBpY0lkICsgaW5jcmVtZW50KTsKICAgICAgICB9KTsKCiAgICAgICAgaWYgKHR5cGVvZiBuZXh0UGljID09PSAndW5kZWZpbmVkJykgewogICAgICAgICAgY29uc29sZS5sb2cobmV4dFBpYyk7CiAgICAgICAgICB0aGlzLnNob3dQaWN0dXJlKGN1cnJlbnRQaWNJZCArIGluY3JlbWVudCwgaW5jcmVtZW50KTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CgogICAgICAgIG5leHRQaWNJZCA9IG5leHRQaWMuaWQ7CiAgICAgIH0KCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvcGljdHVyZS8iLmNvbmNhdChuZXh0UGljSWQpKTsKICAgIH0sCiAgICBzZXRNb2RlOiBmdW5jdGlvbiBzZXRNb2RlKCkgewogICAgICBpZiAodGhpcy4kcm91dGUucGFyYW1zLmlkID09PSAnYWRkJykgewogICAgICAgIHRoaXMubW9kZSA9ICdhZGQnOwogICAgICB9IGVsc2UgaWYgKHRoaXMuJHJvdXRlLmhhc2ggPT09ICcjZWRpdCcpIHsKICAgICAgICB0aGlzLm1vZGUgPSAnZWRpdCc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5tb2RlID0gJ3Nob3cnOwogICAgICB9CiAgICB9LAogICAgZmV0Y2hQaWN0dXJlczogZnVuY3Rpb24gZmV0Y2hQaWN0dXJlcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIGF4aW9zLmdldCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9waWN0dXJlcycpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMucGljdHVyZXMgPSByZXNwb25zZS5kYXRhOwogICAgICAgIF90aGlzLnBpY3R1cmUgPSBfdGhpcy5waWN0dXJlcy5maW5kKGZ1bmN0aW9uIChwaWN0dXJlKSB7CiAgICAgICAgICByZXR1cm4gcGljdHVyZS5pZCA9PT0gTnVtYmVyKF90aGlzLiRyb3V0ZS5wYXJhbXMuaWQpOwogICAgICAgIH0pOwoKICAgICAgICBpZiAodHlwZW9mIF90aGlzLnBpY3R1cmUgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICBfdGhpcy5waWNfZmlsZW5hbWUgPSBfdGhpcy5waWN0dXJlLmZpbGVuYW1lOwogICAgICAgICAgX3RoaXMucGljX3RpdGxlID0gX3RoaXMucGljdHVyZS50aXRsZTsKICAgICAgICAgIF90aGlzLnBpY19pbmZvcm1hdGlvbiA9IF90aGlzLnBpY3R1cmUuaW5mb3JtYXRpb247CiAgICAgICAgICBfdGhpcy5waWNfc2l6ZSA9IF90aGlzLnBpY3R1cmUuc2l6ZTsKICAgICAgICB9IGVsc2UgaWYgKF90aGlzLm1vZGUgIT09ICdhZGQnKSB7Ly8gRGlzcGxheSA0MDQKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldFVwbG9hZGVkRmlsZTogZnVuY3Rpb24gZ2V0VXBsb2FkZWRGaWxlKHZhbHVlKSB7CiAgICAgIHRoaXMucGljX2ZpbGVuYW1lID0gdmFsdWU7CiAgICB9LAogICAgb25TdWJtaXQ6IGZ1bmN0aW9uICgpIHsKICAgICAgdmFyIF9vblN1Ym1pdCA9IF9hc3luY1RvR2VuZXJhdG9yKAogICAgICAvKiNfX1BVUkVfXyovCiAgICAgIHJlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSAwOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gYXhpb3MucG9zdCgnaHR0cDovL2xvY2FsaG9zdDozMDAwL2FwaS9waWN0dXJlcycsIHsKICAgICAgICAgICAgICAgICAgaWQ6IHRoaXMubW9kZSA9PT0gJ2VkaXQnID8gdGhpcy5waWN0dXJlLmlkIDogbnVsbCwKICAgICAgICAgICAgICAgICAgdGl0bGU6IHRoaXMucGljX3RpdGxlLAogICAgICAgICAgICAgICAgICBmaWxlbmFtZTogdGhpcy5waWNfZmlsZW5hbWUsCiAgICAgICAgICAgICAgICAgIGluZm9ybWF0aW9uOiB0aGlzLnBpY19pbmZvcm1hdGlvbiwKICAgICAgICAgICAgICAgICAgc2l6ZTogdGhpcy5waWNfc2l6ZSwKICAgICAgICAgICAgICAgICAgbW9kZTogdGhpcy5tb2RlCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucHVzaCgnL0ZpZ3VyZScpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDU7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzLCBbWzAsIDVdXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICAgIHJldHVybiBfb25TdWJtaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG9uU3VibWl0OwogICAgfSgpCiAgfQp9Ow=="},{"version":3,"sources":["Picture.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"lightbox fixed w-screen h-screen xl:p-16 xl:px-48 lg:p-10 lg:px-24 md:p-6 md:px-20 p-4 px-16 top-0 left-0\" @click.self=\"closeLightbox\">\n    <div class=\"lb-container w-full h-full flex lg:flex-row flex-col justify-center\">\n      <div class=\"overflow-x-auto flex-1 flex-grow max-w-full max-h-full bg-white rounded relative text-center relative\" v-if=\"(typeof this.picture === 'undefined')\">\n        <div class=\"absolute top30 w-full\">\n          <span class=\"w-full text-6xl text-blue-500 font-bold inline-block\">404</span>\n          <span class=\"w-full inline-block\">Oups ! L'image recherchée est introuvable</span>\n          <span class=\"w-full inline-block text-xs\">Elle a surement été volée par un Blood Raven...</span>\n        </div>\n      </div>\n      <div class=\"overflow-x-auto flex-1 flex-grow max-w-full max-h-full bg-white rounded-l relative\" v-if=\"(typeof this.picture !== 'undefined')\">\n        <div class=\"bg-white\" v-if=\"['edit', 'add'].includes(mode)\">\n          <FileUpload @uploadedFile=\"getUploadedFile\"/>\n        </div>\n        <div class=\"overflow-hidden bg-gray-300 bg-contain bg-no-repeat lb-picture w-full\" v-if=\"['edit', 'show'].includes(mode)\" v-bind:style=\"{ height: (mode === 'edit' ? '82%' : '100%'), backgroundImage: 'url(' + (picture ? pictureUrl(picture.filename) : '') + ')' }\">\n          <div class=\"w-full font-bold m-1 text-gray-900 mx-2\" v-if=\"mode === 'edit'\">Image remplacée</div>\n        </div>\n      </div>\n      <div class=\"lb-information bg-white flex-1 xl:max-w-md lg:max-w-xs w-full border border-solid border-gray-300 text-center p-4 overflow-auto rounded-r relative\" v-if=\"(typeof this.picture !== 'undefined')\">\n        <button class=\"py-1 px-2 text-xs absolute top-0 right-0 hover:text-blue-700\" v-if=\"mode === 'show' && picture\" @click=\"editPicture(picture.id)\">\n          Modifier\n        </button>\n        <span class=\"lightbox-title font-bold text-4xl\" v-if=\"mode === 'show' && picture && picture.title\">{{ picture.title }}</span>\n        <p class=\"mt-4\" v-if=\"picture && picture.information && mode === 'show'\" v-html=\"picture.information\"></p>\n        <form v-if=\"['edit', 'add'].includes(mode)\" class=\"relative min-h-full\" @submit.prevent=\"onSubmit\">\n          <input type=\"hidden\" v-model=\"pic_filename\">\n          <input type=\"text\" v-model=\"pic_title\" class=\"w-full font-bold text-4xl border-0 border-b border-gray-300\" placeholder=\"Saisir un titre\">\n          <textarea v-model=\"pic_information\" class=\"w-full mt-5 border-0 border-b border-gray-300\" placeholder=\"Saisir des informations\"></textarea>\n          <div class=\"text-left text-gray-500\">\n            <label for=\"pic-size\">Taille de la miniature</label>\n            <select id=\"pic-size\" v-model=\"pic_size\" class=\"border-0 border-b border-gray-300 ml-8\">\n              <option value=\"small\">Petite</option>\n              <option value=\"medium\">Moyenne</option>\n              <option value=\"large\">Grande</option>\n            </select>\n          </div>\n          <button class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline absolute bottom-0 right-0\">\n            Enregistrer\n          </button>\n        </form>\n      </div>\n    </div>\n    <div class=\"lb-chevron-left\" @click.self=\"showPicture(picture.id, -1)\" v-if=\"mode === 'show' && (typeof this.picture !== 'undefined')\"></div>\n    <div class=\"lb-chevron-right\" @click.self=\"showPicture(picture.id, 1)\" v-if=\"mode === 'show' && (typeof this.picture !== 'undefined')\"></div>\n    <div class=\"lb-cross\" @click.self=\"closeLightbox\"></div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport FileUpload from './FileUpload.vue';\n\nexport default {\n  name: 'Picture',\n  components: {\n    FileUpload,\n  },\n  data() {\n    return {\n      pictures: [],\n      picture: {\n        id: '', title: '', filename: '', information: '',\n      },\n      mode: 'add',\n      pic_filename: '',\n      pic_title: '',\n      pic_information: '',\n      pic_size: 'small',\n    };\n  },\n  watch: {\n    $route() {\n      const self = this;\n      self.fetchPictures();\n    },\n  },\n  created() {\n    this.setMode();\n    if (this.mode !== 'add') { this.fetchPictures(); }\n  },\n  methods: {\n    pictureUrl(filename) {\n      const images = require.context('../../../server/uploads/', false, /\\.jpg|.png|.jpeg$/);\n      return images(`./${filename}`);\n    },\n    closeLightbox() {\n      this.$router.push('/Figure');\n    },\n    editPicture(currentPicId) {\n      this.mode = 'edit';\n      this.$router.push(`/picture/${currentPicId}#edit`);\n    },\n    showPicture(currentPicId, increment) {\n      currentPicId = Number(currentPicId);\n\n      const maxPicId = this.pictures[this.pictures.length - 1].id;\n      const minPicId = this.pictures[0].id;\n\n      let nextPicId = 0;\n\n      if (currentPicId < minPicId) {\n        nextPicId = maxPicId;\n      } else if (currentPicId > maxPicId) {\n        nextPicId = minPicId;\n      } else {\n        const nextPic = this.pictures.find(picture => picture.id === Number(currentPicId + increment));\n\n        if (typeof nextPic === 'undefined') {\n          console.log(nextPic);\n\n          this.showPicture(currentPicId + increment, increment);\n          return;\n        }\n\n        nextPicId = nextPic.id;\n      }\n\n      this.$router.push(`/picture/${nextPicId}`);\n    },\n    setMode() {\n      if (this.$route.params.id === 'add') {\n        this.mode = 'add';\n      } else if (this.$route.hash === '#edit') {\n        this.mode = 'edit';\n      } else {\n        this.mode = 'show';\n      }\n    },\n    fetchPictures() {\n      axios.get('http://localhost:3000/api/pictures').then((response) => {\n        this.pictures = response.data;\n        this.picture = this.pictures.find(picture => picture.id === Number(this.$route.params.id));\n\n        if (typeof this.picture !== 'undefined') {\n          this.pic_filename = this.picture.filename;\n          this.pic_title = this.picture.title;\n          this.pic_information = this.picture.information;\n          this.pic_size = this.picture.size;\n        } else if (this.mode !== 'add') {\n          // Display 404\n        }\n      });\n    },\n    getUploadedFile(value) {\n      this.pic_filename = value;\n    },\n    async onSubmit() {\n      try {\n        await axios.post('http://localhost:3000/api/pictures', {\n          id: (this.mode === 'edit' ? this.picture.id : null), title: this.pic_title, filename: this.pic_filename, information: this.pic_information, size: this.pic_size, mode: this.mode,\n        }).then((response) => {\n          if (response.data.success) {\n            this.$router.push('/Figure');\n          }\n        });\n      } catch (err) {\n        /* this.message = err.response.data.error;\n        this.hasError = true; */\n      }\n    },\n  },\n};\n</script>\n\n<style>\n  .lightbox {\n    background-color: rgba(0, 0, 0, 0.5);\n  }\n\n  .lb-picture{\n    background-position: 50% 50%;\n  }\n\n  .lb-chevron-left{\n    position:fixed;\n    top: 50%;\n    left:15px;\n    height:32px;\n    width:32px;\n    background: url('../assets/icons/chevron-left.png');\n    cursor:pointer;\n  }\n\n  .lb-chevron-right{\n    position:fixed;\n    top: 50%;\n    right:15px;\n    height:32px;\n    width:32px;\n    background: url('../assets/icons/chevron-right.png');\n    cursor:pointer;\n  }\n\n  .lb-cross{\n    position:fixed;\n    top:15px;\n    right:15px;\n    height:32px;\n    width:32px;\n    background: url('../assets/icons/cross.png');\n    cursor:pointer;\n  }\n\n  textarea{\n    min-height:150px;\n  }\n\n  .top30{\n    top:30%;\n  }\n</style>\n"],"sourceRoot":"src/components"}]}