{"remainingRequest":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\src\\components\\FileUpload.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\src\\components\\FileUpload.vue","mtime":1582842877662},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5pbmRleC1vZiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5pbmNsdWRlcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiQzpcXFVzZXJzXFxheWF0b1xcRG9jdW1lbnRzXFxHaXRIdWJcXGdhbGxlcnktbWFwLWNhclxcY2xpZW50XFxub2RlX21vZHVsZXNcXEBiYWJlbFxccnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IFZ1ZUNyb3BwZXIgZnJvbSAndnVlLWNyb3BwZXJqcyc7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbXBvcnQvbm8tZXh0cmFuZW91cy1kZXBlbmRlbmNpZXMKCmltcG9ydCAnY3JvcHBlcmpzL2Rpc3QvY3JvcHBlci5jc3MnOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0ZpbGVVcGxvYWQnLAogIGNvbXBvbmVudHM6IHsKICAgIFZ1ZUNyb3BwZXI6IFZ1ZUNyb3BwZXIKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBmaWxlOiAnJywKICAgICAgbWVzc2FnZTogJycsCiAgICAgIGhhc0Vycm9yOiBmYWxzZSwKICAgICAgaW1nU3JjOiAnJywKICAgICAgY3JvcEltZzogJycsCiAgICAgIGRhdGE6IG51bGwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBjcm9wSW1hZ2U6IGZ1bmN0aW9uIGNyb3BJbWFnZSgpIHsKICAgICAgLy8gZ2V0IGltYWdlIGRhdGEgZm9yIHBvc3QgcHJvY2Vzc2luZywgZS5nLiB1cGxvYWQgb3Igc2V0dGluZyBpbWFnZSBzcmMKICAgICAgdGhpcy5jcm9wSW1nID0gdGhpcy4kcmVmcy5jcm9wcGVyLmdldENyb3BwZWRDYW52YXMoKS50b0RhdGFVUkwoKTsKICAgIH0sCiAgICBmbGlwWDogZnVuY3Rpb24gZmxpcFgoKSB7CiAgICAgIHZhciBkb20gPSB0aGlzLiRyZWZzLmZsaXBYOwogICAgICB2YXIgc2NhbGUgPSBkb20uZ2V0QXR0cmlidXRlKCdkYXRhLXNjYWxlJyk7CiAgICAgIHNjYWxlID0gc2NhbGUgPyAtc2NhbGUgOiAtMTsKICAgICAgdGhpcy4kcmVmcy5jcm9wcGVyLnNjYWxlWChzY2FsZSk7CiAgICAgIGRvbS5zZXRBdHRyaWJ1dGUoJ2RhdGEtc2NhbGUnLCBzY2FsZSk7CiAgICB9LAogICAgZmxpcFk6IGZ1bmN0aW9uIGZsaXBZKCkgewogICAgICB2YXIgZG9tID0gdGhpcy4kcmVmcy5mbGlwWTsKICAgICAgdmFyIHNjYWxlID0gZG9tLmdldEF0dHJpYnV0ZSgnZGF0YS1zY2FsZScpOwogICAgICBzY2FsZSA9IHNjYWxlID8gLXNjYWxlIDogLTE7CiAgICAgIHRoaXMuJHJlZnMuY3JvcHBlci5zY2FsZVkoc2NhbGUpOwogICAgICBkb20uc2V0QXR0cmlidXRlKCdkYXRhLXNjYWxlJywgc2NhbGUpOwogICAgfSwKICAgIGdldENyb3BCb3hEYXRhOiBmdW5jdGlvbiBnZXRDcm9wQm94RGF0YSgpIHsKICAgICAgdGhpcy5kYXRhID0gSlNPTi5zdHJpbmdpZnkodGhpcy4kcmVmcy5jcm9wcGVyLmdldENyb3BCb3hEYXRhKCksIG51bGwsIDQpOwogICAgfSwKICAgIGdldERhdGE6IGZ1bmN0aW9uIGdldERhdGEoKSB7CiAgICAgIHRoaXMuZGF0YSA9IEpTT04uc3RyaW5naWZ5KHRoaXMuJHJlZnMuY3JvcHBlci5nZXREYXRhKCksIG51bGwsIDQpOwogICAgfSwKICAgIG1vdmU6IGZ1bmN0aW9uIG1vdmUob2Zmc2V0WCwgb2Zmc2V0WSkgewogICAgICB0aGlzLiRyZWZzLmNyb3BwZXIubW92ZShvZmZzZXRYLCBvZmZzZXRZKTsKICAgIH0sCiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHRoaXMuJHJlZnMuY3JvcHBlci5yZXNldCgpOwogICAgfSwKICAgIHJvdGF0ZTogZnVuY3Rpb24gcm90YXRlKGRlZykgewogICAgICB0aGlzLiRyZWZzLmNyb3BwZXIucm90YXRlKGRlZyk7CiAgICB9LAogICAgc2V0Q3JvcEJveERhdGE6IGZ1bmN0aW9uIHNldENyb3BCb3hEYXRhKCkgewogICAgICBpZiAoIXRoaXMuZGF0YSkgcmV0dXJuOwogICAgICB0aGlzLiRyZWZzLmNyb3BwZXIuc2V0Q3JvcEJveERhdGEoSlNPTi5wYXJzZSh0aGlzLmRhdGEpKTsKICAgIH0sCiAgICBzZXREYXRhOiBmdW5jdGlvbiBzZXREYXRhKCkgewogICAgICBpZiAoIXRoaXMuZGF0YSkgcmV0dXJuOwogICAgICB0aGlzLiRyZWZzLmNyb3BwZXIuc2V0RGF0YShKU09OLnBhcnNlKHRoaXMuZGF0YSkpOwogICAgfSwKICAgIHNldEltYWdlOiBmdW5jdGlvbiBzZXRJbWFnZShlKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB2YXIgZmlsZSA9IGUudGFyZ2V0LmZpbGVzWzBdOwoKICAgICAgaWYgKGZpbGUudHlwZS5pbmRleE9mKCdpbWFnZS8nKSA9PT0gLTEpIHsKICAgICAgICBhbGVydCgnUGxlYXNlIHNlbGVjdCBhbiBpbWFnZSBmaWxlJyk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICBpZiAodHlwZW9mIEZpbGVSZWFkZXIgPT09ICdmdW5jdGlvbicpIHsKICAgICAgICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKCiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChldmVudCkgewogICAgICAgICAgX3RoaXMuaW1nU3JjID0gZXZlbnQudGFyZ2V0LnJlc3VsdDsgLy8gcmVidWlsZCBjcm9wcGVyanMgd2l0aCB0aGUgdXBkYXRlZCBzb3VyY2UKCiAgICAgICAgICBjb25zb2xlLmxvZyhldmVudCk7CgogICAgICAgICAgX3RoaXMuJHJlZnMuY3JvcHBlci5yZXBsYWNlKGV2ZW50LnRhcmdldC5yZXN1bHQpOwogICAgICAgIH07CgogICAgICAgIGNvbnNvbGUubG9nKCdsb2wnKTsKICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChmaWxlKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBhbGVydCgnU29ycnksIEZpbGVSZWFkZXIgQVBJIG5vdCBzdXBwb3J0ZWQnKTsKICAgICAgfQogICAgfSwKICAgIHNob3dGaWxlQ2hvb3NlcjogZnVuY3Rpb24gc2hvd0ZpbGVDaG9vc2VyKCkgewogICAgICB0aGlzLiRyZWZzLmlucHV0LmNsaWNrKCk7CiAgICB9LAogICAgem9vbTogZnVuY3Rpb24gem9vbShwZXJjZW50KSB7CiAgICAgIHRoaXMuJHJlZnMuY3JvcHBlci5yZWxhdGl2ZVpvb20ocGVyY2VudCk7CiAgICB9LAogICAgb25TZWxlY3Q6IGZ1bmN0aW9uIG9uU2VsZWN0KCkgewogICAgICB2YXIgYWxsb3dlZFR5cGVzID0gWydpbWFnZS9qcGVnJywgJ2ltYWdlL2pwZycsICdpbWFnZS9wbmcnXTsKICAgICAgdmFyIGZpbGUgPSB0aGlzLiRyZWZzLmZpbGUuZmlsZXNbMF07CiAgICAgIHRoaXMuZmlsZSA9IGZpbGU7CgogICAgICBpZiAoIWFsbG93ZWRUeXBlcy5pbmNsdWRlcyhmaWxlLnR5cGUpKSB7CiAgICAgICAgdGhpcy5tZXNzYWdlID0gJ1NldWxlcyBsZXMgaW1hZ2VzIHNvbnQgYWNjZXB0w6llcyc7CiAgICAgICAgdGhpcy5oYXNFcnJvciA9IHRydWU7CiAgICAgIH0KCiAgICAgIGlmIChmaWxlLnNpemUgPiA1MDAwMDAwKSB7CiAgICAgICAgdGhpcy5tZXNzYWdlID0gJ0xcJ2ltYWdlIGTDqXBhc3NlIDUwMCBrYic7CiAgICAgICAgdGhpcy5oYXNFcnJvciA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBvblN1Ym1pdDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX29uU3VibWl0ID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy4kcmVmcy5jcm9wcGVyLmdldENyb3BwZWRDYW52YXMoKS50b0Jsb2IoCiAgICAgICAgICAgICAgICAvKiNfX1BVUkVfXyovCiAgICAgICAgICAgICAgICBmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgICAgICAgICAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgICAgICAgICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShibG9iKSB7CiAgICAgICAgICAgICAgICAgICAgdmFyIGFsbG93ZWRUeXBlcywgZmlsZSwgZm9ybURhdGE7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgYWxsb3dlZFR5cGVzID0gWydpbWFnZS9qcGVnJywgJ2ltYWdlL2pwZycsICdpbWFnZS9wbmcnXTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGUgPSBfdGhpczIuJHJlZnMuaW5wdXQuZmlsZXNbMF07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuZmlsZSA9IGZpbGU7CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFhbGxvd2VkVHlwZXMuaW5jbHVkZXMoZmlsZS50eXBlKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIubWVzc2FnZSA9ICdTZXVsZXMgbGVzIGltYWdlcyBzb250IGFjY2VwdMOpZXMnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuaGFzRXJyb3IgPSB0cnVlOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWxlLnNpemUgPiA1MDAwMDAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5tZXNzYWdlID0gJ0xcJ2ltYWdlIGTDqXBhc3NlIDUwMCBrYic7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5oYXNFcnJvciA9IHRydWU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsgLy8gUGFzcyB0aGUgaW1hZ2UgZmlsZSBuYW1lIGFzIHRoZSB0aGlyZCBwYXJhbWV0ZXIgaWYgbmVjZXNzYXJ5LgoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGJsb2IsIF90aGlzMi5maWxlLm5hbWUpOyAvLyBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCB0aGlzLmZpbGUpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0LnByZXYgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF4aW9zLnBvc3QoJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hcGkvdXBsb2FkJywgZm9ybURhdGEpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLm1lc3NhZ2UgPSAnSW1hZ2Ugc2F1dmVnYXJkw6llJzsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIuJGVtaXQoJ3VwbG9hZGVkRmlsZScsIF90aGlzMi5maWxlLm5hbWUpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDE0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBfY29udGV4dFsiY2F0Y2giXSg3KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5tZXNzYWdlID0gX2NvbnRleHQudDAucmVzcG9uc2UuZGF0YS5lcnJvcjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMi5oYXNFcnJvciA9IHRydWU7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlLCBudWxsLCBbWzcsIDE0XV0pOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMiwgdGhpcyk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICAgIHJldHVybiBfb25TdWJtaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG9uU3VibWl0OwogICAgfSgpLAogICAgZ2V0Q2xhc3M6IGZ1bmN0aW9uIGdldENsYXNzKCkgewogICAgICByZXR1cm4gewogICAgICAgICdib3JkZXIgcHgtNCBweS0zIHJvdW5kZWQgcmVsYXRpdmUgbXQtNCc6IHRydWUsCiAgICAgICAgJ2JnLXJlZC0xMDAnOiB0aGlzLmhhc0Vycm9yLAogICAgICAgICdib3JkZXItcmVkLTQwMCc6IHRoaXMuaGFzRXJyb3IsCiAgICAgICAgJ3RleHQtcmVkLTcwMCc6IHRoaXMuaGFzRXJyb3IsCiAgICAgICAgJ2JnLWdyZWVuLTEwMCc6ICF0aGlzLmhhc0Vycm9yLAogICAgICAgICdib3JkZXItZ3JlZW4tNDAwJzogIXRoaXMuaGFzRXJyb3IsCiAgICAgICAgJ3RleHQtZ3JlZW4tNzAwJzogIXRoaXMuaGFzRXJyb3IKICAgICAgfTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["FileUpload.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"px-4 py-2\">\n    <div v-bind:class=\"getClass()\" role=\"alert\" v-if=\"message != ''\">\n      <span class=\"block sm:inline\">{{ message }}</span>\n      <span class=\"absolute top-0 bottom-0 right-0 px-4 py-3\">\n        <svg @click=\"message = ''\" class=\"fill-current h-6 w-6\" role=\"button\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><title>Close</title><path d=\"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z\"/></svg>\n      </span>\n    </div>\n    <form enctype=\"multipart/form-data\" @submit.prevent=\"onSubmit\">\n      <div class=\"fields\">\n          <div class=\"w-full font-bold m-1 text-gray-500\">Nouvelle image</div>\n          <!--<input type=\"file\" ref=\"file\" @change=\"onSelect\" class=\"mt-2\">-->\n          <input\n            ref=\"input\"\n            type=\"file\"\n            name=\"image\"\n            accept=\"image/*\"\n            @change=\"setImage\"\n            class=\"hidden\"\n          />\n          <div class=\"inline-flex m-1\">\n            <a class=\"bg-gray-300 text-xs hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded\"\n              href=\"#\"\n              role=\"button\"\n              @click.prevent=\"showFileChooser\"\n            >\n              Choisir une image\n            </a>\n          </div>\n          <div>\n            <section class=\"w-full flex flex-row\">\n              <div class=\"img-cropper flex-1 m-1\">\n                <vue-cropper\n                  ref=\"cropper\"\n                  v-if=\"imgSrc !== ''\"\n                  :aspect-ratio=\"16 / 9\"\n                  :src=\"imgSrc\"\n                  preview=\".preview\"\n                />\n              </div>\n              <div class=\"flex-1 relative mt-1\" v-if=\"imgSrc !== ''\">\n                <p class=\"preview-label\">Preview</p>\n                <div class=\"preview overflow-hidden w-full\" />\n              </div>\n            </section>\n            <section class=\"w-full\" v-if=\"imgSrc !== ''\">\n              <div class=\"inline-flex m-1\">\n                <a class=\"bg-gray-300 text-xs hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-l\"\n                  href=\"#\"\n                  role=\"button\"\n                  @click.prevent=\"zoom(0.2)\">\n                  Zoom +\n                </a>\n                <a class=\"bg-gray-300 text-xs hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-r\"\n                  href=\"#\"\n                  role=\"button\"\n                  @click.prevent=\"zoom(-0.2)\">\n                  Zoom -\n                </a>\n              </div>\n              <div class=\"inline-flex m-1\">\n                <a class=\"bg-gray-300 text-xs hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-l\"\n                  href=\"#\"\n                  role=\"button\"\n                  @click.prevent=\"move(-10, 0)\"\n                >\n                  ◄\n                </a>\n                <a class=\"bg-gray-300 text-xs hover:bg-gray-400 text-gray-800 font-bold py-2 px-4\"\n                  href=\"#\"\n                  role=\"button\"\n                  @click.prevent=\"move(10, 0)\"\n                >\n                  ►\n                </a>\n                <a class=\"bg-gray-300 text-xs hover:bg-gray-400 text-gray-800 font-bold py-2 px-4\"\n                  href=\"#\"\n                  role=\"button\"\n                  @click.prevent=\"move(0, -10)\"\n                >\n                  ▲\n                </a>\n                <a class=\"bg-gray-300 text-xs hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-r\"\n                  href=\"#\"\n                  role=\"button\"\n                  @click.prevent=\"move(0, 10)\"\n                >\n                  ▼\n                </a>\n              </div>\n              <div class=\"inline-flex m-1\">\n                <a class=\"bg-gray-300 text-xs hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-l\"\n                  href=\"#\"\n                  role=\"button\"\n                  @click.prevent=\"rotate(90)\"\n                >\n                  +90°\n                </a>\n                <a class=\"bg-gray-300 text-xs hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-r\"\n                  href=\"#\"\n                  role=\"button\"\n                  @click.prevent=\"rotate(-90)\"\n                >\n                  -90°\n                </a>\n              </div>\n              <div class=\"inline-flex m-1\">\n                <a class=\"bg-gray-300 text-xs hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-l\"\n                  ref=\"flipX\"\n                  href=\"#\"\n                  role=\"button\"\n                  @click.prevent=\"flipX\"\n                >\n                  Flip X\n                </a>\n                <a class=\"bg-gray-300 text-xs hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-r\"\n                  ref=\"flipY\"\n                  href=\"#\"\n                  role=\"button\"\n                  @click.prevent=\"flipY\"\n                >\n                  Flip Y\n                </a>\n              </div>\n              <div class=\"inline-flex m-1\">\n                <a class=\"bg-gray-300 text-xs hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-l\"\n                  href=\"#\"\n                  role=\"button\"\n                  @click.prevent=\"cropImage\"\n                >\n                  Recadrer\n                </a>\n                <a class=\"bg-gray-300 text-xs hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-r\"\n                  href=\"#\"\n                  role=\"button\"\n                  @click.prevent=\"reset\"\n                >\n                  Reset\n                </a>\n              </div>\n            </section>\n          </div>\n      </div>\n      <div class=\"fields\" v-if=\"imgSrc !== ''\">\n        <button class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold px-2 rounded focus:outline-none focus:shadow-outline mt-4 ml-1\">Valider</button>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport VueCropper from 'vue-cropperjs';\n// eslint-disable-next-line import/no-extraneous-dependencies\nimport 'cropperjs/dist/cropper.css';\n\nexport default {\n  name: 'FileUpload',\n  components: { VueCropper },\n  data() {\n    return {\n      file: '',\n      message: '',\n      hasError: false,\n      imgSrc: '',\n      cropImg: '',\n      data: null,\n    };\n  },\n  methods: {\n\n    cropImage() {\n      // get image data for post processing, e.g. upload or setting image src\n      this.cropImg = this.$refs.cropper.getCroppedCanvas().toDataURL();\n    },\n    flipX() {\n      const dom = this.$refs.flipX;\n      let scale = dom.getAttribute('data-scale');\n      scale = scale ? -scale : -1;\n      this.$refs.cropper.scaleX(scale);\n      dom.setAttribute('data-scale', scale);\n    },\n    flipY() {\n      const dom = this.$refs.flipY;\n      let scale = dom.getAttribute('data-scale');\n      scale = scale ? -scale : -1;\n      this.$refs.cropper.scaleY(scale);\n      dom.setAttribute('data-scale', scale);\n    },\n    getCropBoxData() {\n      this.data = JSON.stringify(this.$refs.cropper.getCropBoxData(), null, 4);\n    },\n    getData() {\n      this.data = JSON.stringify(this.$refs.cropper.getData(), null, 4);\n    },\n    move(offsetX, offsetY) {\n      this.$refs.cropper.move(offsetX, offsetY);\n    },\n    reset() {\n      this.$refs.cropper.reset();\n    },\n    rotate(deg) {\n      this.$refs.cropper.rotate(deg);\n    },\n    setCropBoxData() {\n      if (!this.data) return;\n      this.$refs.cropper.setCropBoxData(JSON.parse(this.data));\n    },\n    setData() {\n      if (!this.data) return;\n      this.$refs.cropper.setData(JSON.parse(this.data));\n    },\n    setImage(e) {\n      const file = e.target.files[0];\n      if (file.type.indexOf('image/') === -1) {\n        alert('Please select an image file');\n        return;\n      }\n      if (typeof FileReader === 'function') {\n        const reader = new FileReader();\n        reader.onload = (event) => {\n          this.imgSrc = event.target.result;\n          // rebuild cropperjs with the updated source\n          console.log(event);\n          this.$refs.cropper.replace(event.target.result);\n        };\n        console.log('lol');\n        reader.readAsDataURL(file);\n      } else {\n        alert('Sorry, FileReader API not supported');\n      }\n    },\n    showFileChooser() {\n      this.$refs.input.click();\n    },\n    zoom(percent) {\n      this.$refs.cropper.relativeZoom(percent);\n    },\n    onSelect() {\n      const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png'];\n      const file = this.$refs.file.files[0];\n      this.file = file;\n\n      if (!allowedTypes.includes(file.type)) {\n        this.message = 'Seules les images sont acceptées';\n        this.hasError = true;\n      }\n      if (file.size > 5000000) {\n        this.message = 'L\\'image dépasse 500 kb';\n        this.hasError = true;\n      }\n    },\n    async onSubmit() {\n      await this.$refs.cropper.getCroppedCanvas().toBlob(async (blob) => {\n        const allowedTypes = ['image/jpeg', 'image/jpg', 'image/png'];\n\n        const file = this.$refs.input.files[0];\n        this.file = file;\n        if (!allowedTypes.includes(file.type)) {\n          this.message = 'Seules les images sont acceptées';\n          this.hasError = true;\n        }\n        if (file.size > 5000000) {\n          this.message = 'L\\'image dépasse 500 kb';\n          this.hasError = true;\n        }\n\n        const formData = new FormData();\n\n        // Pass the image file name as the third parameter if necessary.\n        formData.append('file', blob, this.file.name);\n        // formData.append('file', this.file);\n\n        try {\n          await axios.post('http://localhost:3000/api/upload', formData);\n          this.message = 'Image sauvegardée';\n          this.$emit('uploadedFile', this.file.name);\n        } catch (err) {\n          this.message = err.response.data.error;\n          this.hasError = true;\n        }\n      });\n    },\n    getClass() {\n      return {\n        'border px-4 py-3 rounded relative mt-4': true,\n        'bg-red-100': this.hasError,\n        'border-red-400': this.hasError,\n        'text-red-700': this.hasError,\n        'bg-green-100': !this.hasError,\n        'border-green-400': !this.hasError,\n        'text-green-700': !this.hasError,\n      };\n    },\n  },\n};\n</script>\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style>\n.preview {\n  height: calc(372px * (9 / 16));\n}\n.preview-label {\n  position:absolute;\n  font-weight:bold;\n  background:#fff;\n  opacity:0.5;\n  z-index:9999;\n  width:100%;\n}\n</style>\n"],"sourceRoot":"src/components"}]}