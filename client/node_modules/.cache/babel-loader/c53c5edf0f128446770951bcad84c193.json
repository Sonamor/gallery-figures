{"remainingRequest":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\src\\components\\Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\src\\components\\Login.vue","mtime":1583713835749},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubWFwIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IFVzZXIgZnJvbSAnLi4vbW9kZWxzL3VzZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ0xvZ2luJywKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdXNlcjogbmV3IFVzZXIoJycsICcnKSwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIG1lc3NhZ2U6ICcnLAogICAgICBlcnJvcnM6IG5ldyBNYXAoKSwKICAgICAgYWxlcnRDb2xvcjogJycKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgbG9nZ2VkSW46IGZ1bmN0aW9uIGxvZ2dlZEluKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC5zdGF0dXMubG9nZ2VkSW47CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgaWYgKHRoaXMubG9nZ2VkSW4pIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9GaWd1cmUnKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUxvZ2luOiBmdW5jdGlvbiBoYW5kbGVMb2dpbigpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CgogICAgICBpZiAodGhpcy51c2VyLnVzZXJuYW1lICYmIHRoaXMudXNlci5wYXNzd29yZCkgewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCdhdXRoL2xvZ2luJywgdGhpcy51c2VyKS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCgnL0ZpZ3VyZScpOwogICAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgX3RoaXMubWVzc2FnZSA9IGVycm9yLnJlc3BvbnNlICYmIGVycm9yLnJlc3BvbnNlLmRhdGEubWVzc2FnZSB8fCBlcnJvci5tZXNzYWdlIHx8IGVycm9yLnRvU3RyaW5nKCk7CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBjbG9zZUFsZXJ0OiBmdW5jdGlvbiBjbG9zZUFsZXJ0KCkgewogICAgICB0aGlzLm91dHB1dCA9ICcnOwogICAgfQogIH0KfTs="},{"version":3,"sources":["Login.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4DA,OAAA,IAAA,MAAA,gBAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,OADA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,IAAA,EAAA,IAAA,IAAA,CAAA,EAAA,EAAA,EAAA,CADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,OAAA,EAAA,EAHA;AAIA,MAAA,MAAA,EAAA,IAAA,GAAA,EAJA;AAKA,MAAA,UAAA,EAAA;AALA,KAAA;AAOA,GAVA;AAWA,EAAA,QAAA,EAAA;AACA,IAAA,QADA,sBACA;AACA,aAAA,KAAA,MAAA,CAAA,KAAA,CAAA,IAAA,CAAA,MAAA,CAAA,QAAA;AACA;AAHA,GAXA;AAgBA,EAAA,OAhBA,qBAgBA;AACA,QAAA,KAAA,QAAA,EAAA;AACA,WAAA,OAAA,CAAA,IAAA,CAAA,SAAA;AACA;AACA,GApBA;AAqBA,EAAA,OAAA,EAAA;AACA,IAAA,WADA,yBACA;AAAA;;AACA,WAAA,OAAA,GAAA,IAAA;;AAEA,UAAA,KAAA,IAAA,CAAA,QAAA,IAAA,KAAA,IAAA,CAAA,QAAA,EAAA;AACA,aAAA,MAAA,CAAA,QAAA,CAAA,YAAA,EAAA,KAAA,IAAA,EAAA,IAAA,CACA,YAAA;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA,SAAA;AACA,SAHA,EAIA,UAAA,KAAA,EAAA;AACA,UAAA,KAAA,CAAA,OAAA,GAAA,KAAA;AACA,UAAA,KAAA,CAAA,OAAA,GAAA,KAAA,CAAA,QAAA,IAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,OAAA,IACA,KAAA,CAAA,OADA,IAEA,KAAA,CAAA,QAAA,EAFA;AAGA,SATA;AAWA;AACA,KAjBA;AAkBA,IAAA,UAlBA,wBAkBA;AACA,WAAA,MAAA,GAAA,EAAA;AACA;AApBA;AArBA,CAAA","sourcesContent":["<template>\n  <div class=\"login fixed w-screen h-screen xl:p-16 xl:px-48 lg:p-10 lg:px-24 md:p-6 md:px-20 p-4 px-16 top-0 left-0 flex justify-center\">\n    <div class=\"login-container w-full h-full max-w-2xl absolute\">\n      <form class=\"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4\" id=\"login\" @submit.prevent=\"handleLogin\"\n        method=\"post\">\n        <div class=\"mb-4\">\n          <label class=\"block text-gray-700 text-sm font-bold mb-2\" for=\"username\">\n            Utilisateur\n          </label>\n          <input\n            v-model=\"user.username\"\n            type=\"text\"\n            class=\"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline\"\n            name=\"username\"\n            id=\"username\"\n            placeholder=\"Utilisateur\"\n          />\n          <div\n            v-if=\"errors.has('username')\"\n            class=\"text-red-500 text-xs italic\"\n            role=\"alert\"\n          >Veuillez saisir un utilisateur</div>\n        </div>\n        <div class=\"mb-6\">\n          <label class=\"block text-gray-700 text-sm font-bold mb-2\" for=\"password\">\n            Mot de passe\n          </label>\n          <input\n            v-model=\"user.password\"\n            type=\"password\"\n            class=\"shadow appearance-none border border-red-500 rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline\"\n            name=\"password\"\n            id=\"password\"\n            placeholder=\"******************\"\n          />\n          <div\n            v-if=\"errors.has('password')\"\n            class=\"text-red-500 text-xs italic\"\n            role=\"alert\"\n          >Veuillez saisir un mot de passe</div>\n        </div>\n        <div class=\"flex items-center justify-between\">\n          <button class=\"bg-blue-500 align-baseline hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline\" :disabled=\"loading\" type=\"submit\">\n            Se connecter\n          </button>\n        </div>\n      </form>\n      <div v-if=\"message\" class=\"px-4 py-3 rounded relative border text-xs bg-red-100 border-red-400 text-red-700\" role=\"alert\">\n        <strong class=\"font-bold\">Connexion impossible</strong>\n        <span class=\"block\">{{message}}</span>\n        <span class=\"absolute top-0 bottom-0 right-0\">\n          <svg class=\"fill-current h-6 w-6 cross-svg\" role=\"button\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\"><title>Close</title><path d=\"M14.348 14.849a1.2 1.2 0 0 1-1.697 0L10 11.819l-2.651 3.029a1.2 1.2 0 1 1-1.697-1.697l2.758-3.15-2.759-3.152a1.2 1.2 0 1 1 1.697-1.697L10 8.183l2.651-3.031a1.2 1.2 0 1 1 1.697 1.697l-2.758 3.152 2.758 3.15a1.2 1.2 0 0 1 0 1.698z\" @click.self=\"closeAlert\"/></svg>\n        </span>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n<script>\nimport User from '../models/user';\n\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      user: new User('', ''),\n      loading: false,\n      message: '',\n      errors: new Map(),\n      alertColor: '',\n    };\n  },\n  computed: {\n    loggedIn() {\n      return this.$store.state.auth.status.loggedIn;\n    },\n  },\n  created() {\n    if (this.loggedIn) {\n      this.$router.push('/Figure');\n    }\n  },\n  methods: {\n    handleLogin() {\n      this.loading = true;\n\n      if (this.user.username && this.user.password) {\n        this.$store.dispatch('auth/login', this.user).then(\n          () => {\n            this.$router.push('/Figure');\n          },\n          (error) => {\n            this.loading = false;\n            this.message = (error.response && error.response.data.message)\n              || error.message\n              || error.toString();\n          },\n        );\n      }\n    },\n    closeAlert() {\n      this.output = '';\n    },\n  },\n};\n</script>\n<style>\n  .cross-svg{\n    position: relative;\n    top: 50%;\n    -webkit-transform: translateY(-50%);\n    -ms-transform: translateY(-50%);\n    transform: translateY(-50%);\n    left: 0;\n    right: 0;\n    margin: auto;\n    text-align: center;\n  }\n</style>\n"],"sourceRoot":"src/components"}]}