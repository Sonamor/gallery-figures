{"remainingRequest":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\src\\components\\Picture.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\src\\components\\Picture.vue","mtime":1596480900347},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICJDOlxcVXNlcnNcXGF5YXRvXFxEb2N1bWVudHNcXEdpdEh1YlxcZ2FsbGVyeS1tYXAtY2FyXFxjbGllbnRcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnOwppbXBvcnQgRmlsZVVwbG9hZCBmcm9tICcuL0ZpbGVVcGxvYWQudnVlJzsKaW1wb3J0IGF1dGhIZWFkZXIgZnJvbSAnLi4vc2VydmljZXMvYXV0aEhlYWRlcic7CmltcG9ydCBBbGVydHMgZnJvbSAnQC9jb21wb25lbnRzL0FsZXJ0cy52dWUnOwppbXBvcnQgVGV4dEVkaXRvciBmcm9tICdAL2NvbXBvbmVudHMvVGV4dEVkaXRvci52dWUnOwppbXBvcnQgYnVzIGZyb20gJy4uLy4uL2J1cyc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnUGljdHVyZScsCiAgY29tcG9uZW50czogewogICAgRmlsZVVwbG9hZDogRmlsZVVwbG9hZCwKICAgIEFsZXJ0czogQWxlcnRzLAogICAgVGV4dEVkaXRvcjogVGV4dEVkaXRvcgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHBpY3R1cmVzOiBbXSwKICAgICAgcGljdHVyZTogewogICAgICAgIGlkOiAnJywKICAgICAgICB0aXRsZTogJycsCiAgICAgICAgZmlsZW5hbWU6ICcnLAogICAgICAgIGluZm9ybWF0aW9uOiAnJwogICAgICB9LAogICAgICBtb2RlOiAnYWRkJywKICAgICAgcGljX2ZpbGVuYW1lOiAnJywKICAgICAgcGljX3RpdGxlOiAnJywKICAgICAgcGljX2luZm9ybWF0aW9uOiAnJywKICAgICAgcGljX3NpemU6ICdzbWFsbCcsCiAgICAgIGFsZXJ0czogW10KICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgbG9nZ2VkSW46IGZ1bmN0aW9uIGxvZ2dlZEluKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXV0aC5zdGF0dXMubG9nZ2VkSW47CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgJHJvdXRlOiBmdW5jdGlvbiAkcm91dGUoKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgc2VsZi5mZXRjaFBpY3R1cmVzKCk7CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5zZXRNb2RlKCk7CgogICAgaWYgKHRoaXMubW9kZSAhPT0gJ2FkZCcpIHsKICAgICAgdGhpcy5mZXRjaFBpY3R1cmVzKCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyBEaXNwbGF5IHBpY3R1cmVzIGZyb20gdGhlIHVwbG9hZCBkaXJlY3RvcnkKICAgIHBpY3R1cmVVcmw6IGZ1bmN0aW9uIHBpY3R1cmVVcmwoZmlsZW5hbWUpIHsKICAgICAgaWYgKGZpbGVuYW1lKSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHJldHVybiAiIi5jb25jYXQocHJvY2Vzcy5lbnYuVlVFX0FQUF9TM19FWFRFUk5BTF9CQVNFX1VSTCwgIi9waWN0dXJlcy8iKS5jb25jYXQoZmlsZW5hbWUpOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIGlmIChlLm5hbWUgIT09ICdNb2R1bGVOb3RGb3VuZEVycm9yJykgdGhyb3cgZTsgLy8gaGFuZGxlIGZhbHNlLXBvc2l0aXZlcwoKICAgICAgICAgIHJldHVybiByZXF1aXJlKCcuLi9hc3NldHMvbG9nby5wbmcnKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiByZXF1aXJlKCcuLi9hc3NldHMvbG9nby5wbmcnKTsKICAgIH0sCiAgICAvLyBOYXZpZ2F0ZSB0byB0aGUgZ2FsbGVyeQogICAgY2xvc2VMaWdodGJveDogZnVuY3Rpb24gY2xvc2VMaWdodGJveCgpIHsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goJy9nYWxsZXJ5Jyk7CiAgICB9LAogICAgLy8gTmF2aWdhdGUgdG8gdGhlIHNhbWUgbGF5b3V0IGJ1dCBpbiBlZGl0IG1vZGUKICAgIGVkaXRQaWN0dXJlOiBmdW5jdGlvbiBlZGl0UGljdHVyZShjdXJyZW50UGljdHVyZUlkKSB7CiAgICAgIHRoaXMubW9kZSA9ICdlZGl0JzsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9waWN0dXJlLyIuY29uY2F0KGN1cnJlbnRQaWN0dXJlSWQsICIjZWRpdCIpKTsKICAgIH0sCiAgICAvLyBOYXZpZ2F0ZSB0byBuZXh0IG9yIHByZXZpb3VzIHBpY3R1cmUKICAgIHNob3dQaWN0dXJlOiBmdW5jdGlvbiBzaG93UGljdHVyZShjdXJyZW50UGljdHVyZUlkLCBpbmNyZW1lbnQpIHsKICAgICAgY3VycmVudFBpY3R1cmVJZCA9IE51bWJlcihjdXJyZW50UGljdHVyZUlkKTsKICAgICAgdmFyIG1heFBpY3R1cmVJZCA9IHRoaXMucGljdHVyZXNbdGhpcy5waWN0dXJlcy5sZW5ndGggLSAxXS5pZDsKICAgICAgdmFyIG1pblBpY3R1cmVJZCA9IHRoaXMucGljdHVyZXNbMF0uaWQ7CiAgICAgIHZhciBuZXh0UGljdHVyZUlkID0gMDsgLy8gSWYgYSBwaWN0dXJlIGlzIG1pc3NpbmcgKGVnIDogaGFzIGJlZW4gZGVsZXRlZCBjb21wbGV0ZWx5IGluIGRiKSBvciBpcyBkaXNhYmxlZCBhbmQgdXNlciBpcyBub3QgbG9nZ2VkIGluLCBza2lwIHRvIHRoZSBuKzEvLTEgbmV4dCBwaWN0dXJlCgogICAgICBpZiAoY3VycmVudFBpY3R1cmVJZCA8IG1pblBpY3R1cmVJZCkgewogICAgICAgIG5leHRQaWN0dXJlSWQgPSBtYXhQaWN0dXJlSWQ7CiAgICAgIH0gZWxzZSBpZiAoY3VycmVudFBpY3R1cmVJZCA+IG1heFBpY3R1cmVJZCkgewogICAgICAgIG5leHRQaWN0dXJlSWQgPSBtaW5QaWN0dXJlSWQ7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdmFyIG5leHRQaWMgPSB0aGlzLnBpY3R1cmVzLmZpbmQoZnVuY3Rpb24gKHBpY3R1cmUpIHsKICAgICAgICAgIHJldHVybiBwaWN0dXJlLmlkID09PSBOdW1iZXIoY3VycmVudFBpY3R1cmVJZCArIGluY3JlbWVudCk7CiAgICAgICAgfSk7CgogICAgICAgIGlmICh0eXBlb2YgbmV4dFBpYyA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIG5leHRQaWMgIT09ICd1bmRlZmluZWQnICYmICF0aGlzLmxvZ2dlZEluICYmIG5leHRQaWMuYWN0aXZlID09PSBmYWxzZSkgewogICAgICAgICAgdGhpcy5zaG93UGljdHVyZShjdXJyZW50UGljdHVyZUlkICsgaW5jcmVtZW50LCBpbmNyZW1lbnQpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KCiAgICAgICAgbmV4dFBpY3R1cmVJZCA9IG5leHRQaWMuaWQ7CiAgICAgIH0KCiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCIvcGljdHVyZS8iLmNvbmNhdChuZXh0UGljdHVyZUlkKSk7CiAgICB9LAogICAgLy8gU2V0IHRoZSBtb2RlIG9mIHRoZSBsYXlvdXQKICAgIHNldE1vZGU6IGZ1bmN0aW9uIHNldE1vZGUoKSB7CiAgICAgIGlmICh0aGlzLiRyb3V0ZS5wYXJhbXMuaWQgPT09ICdhZGQnKSB7CiAgICAgICAgdGhpcy5tb2RlID0gJ2FkZCc7CiAgICAgIH0gZWxzZSBpZiAodGhpcy4kcm91dGUuaGFzaCA9PT0gJyNlZGl0JykgewogICAgICAgIHRoaXMubW9kZSA9ICdlZGl0JzsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLm1vZGUgPSAnc2hvdyc7CiAgICAgIH0KICAgIH0sCiAgICAvLyBGZXRjaCBwaWN0dXJlcyBmcm9tIHRoZSBkYXRhYmFzZQogICAgZmV0Y2hQaWN0dXJlczogZnVuY3Rpb24gZmV0Y2hQaWN0dXJlcygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHZhciBvcHRpb25zID0gIXRoaXMubG9nZ2VkSW4gPyB7CiAgICAgICAgYWN0aXZlOiB0cnVlCiAgICAgIH0gOiB7fTsKICAgICAgYXhpb3MuZ2V0KCIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9FTlRSWV9VUkwsICIvcGljdHVyZXMiKSwgewogICAgICAgIHBhcmFtczogb3B0aW9ucwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLnBpY3R1cmVzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBfdGhpcy5waWN0dXJlID0gX3RoaXMucGljdHVyZXMuZmluZChmdW5jdGlvbiAocGljdHVyZSkgewogICAgICAgICAgcmV0dXJuIF90aGlzLmxvZ2dlZEluICYmIHBpY3R1cmUuaWQgPT09IE51bWJlcihfdGhpcy4kcm91dGUucGFyYW1zLmlkKSB8fCAhX3RoaXMubG9nZ2VkSW4gJiYgcGljdHVyZS5hY3RpdmUgPT09IHRydWUgJiYgcGljdHVyZS5pZCA9PT0gTnVtYmVyKF90aGlzLiRyb3V0ZS5wYXJhbXMuaWQpOwogICAgICAgIH0pOwoKICAgICAgICBpZiAodHlwZW9mIF90aGlzLnBpY3R1cmUgIT09ICd1bmRlZmluZWQnKSB7CiAgICAgICAgICBfdGhpcy5waWNfZmlsZW5hbWUgPSBfdGhpcy5waWN0dXJlLmZpbGVuYW1lOwogICAgICAgICAgX3RoaXMucGljX3RpdGxlID0gX3RoaXMucGljdHVyZS50aXRsZTsKICAgICAgICAgIF90aGlzLnBpY19pbmZvcm1hdGlvbiA9IF90aGlzLnBpY3R1cmUuaW5mb3JtYXRpb247CiAgICAgICAgICBfdGhpcy5waWNfc2l6ZSA9IF90aGlzLnBpY3R1cmUuc2l6ZTsKICAgICAgICB9IGVsc2UgaWYgKF90aGlzLm1vZGUgIT09ICdhZGQnKSB7Ly8gRGlzcGxheSA0MDQKICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiBfdGhpcy5waWN0dXJlICE9PSAndW5kZWZpbmVkJyAmJiAhX3RoaXMubG9nZ2VkSW4gJiYgX3RoaXMucGljdHVyZS5hY3RpdmUgPT09IGZhbHNlKSB7CiAgICAgICAgICBfdGhpcy5zaG93UGljdHVyZShfdGhpcy5waWN0dXJlLmlkICsgMSwgMSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyBkaXNwbGF5IHRoZSB1cGxvYWRlZCBmaWxlCiAgICBnZXRVcGxvYWRlZEZpbGU6IGZ1bmN0aW9uIGdldFVwbG9hZGVkRmlsZSh2YWx1ZSkgewogICAgICAvLyBJZiBmYWxzZSwgbWVhbnMgdGhlIHBvc3QgaXMgdXBkYXRlZCB3aXRob3V0IHVwbG9hZGluZyBhIG5ldyBwaWN0dXJlCiAgICAgIGlmICh2YWx1ZSAhPT0gZmFsc2UpIHsKICAgICAgICB0aGlzLnBpY19maWxlbmFtZSA9IHZhbHVlOwogICAgICB9CgogICAgICB0aGlzLm9uU3VibWl0KCk7CiAgICB9LAogICAgaW5pdFN1Ym1pdDogZnVuY3Rpb24gaW5pdFN1Ym1pdCgpIHsKICAgICAgYnVzLiRlbWl0KCdmaWxlVXBsb2FkU3VibWl0Jyk7CiAgICB9LAogICAgLy8gQWRkIG9yIGVkaXQgYSBwaWN0dXJlCiAgICBvblN1Ym1pdDogZnVuY3Rpb24gKCkgewogICAgICB2YXIgX29uU3VibWl0ID0gX2FzeW5jVG9HZW5lcmF0b3IoCiAgICAgIC8qI19fUFVSRV9fKi8KICAgICAgcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDA7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBheGlvcy5wb3N0KCIiLmNvbmNhdChwcm9jZXNzLmVudi5WVUVfQVBQX0FQSV9FTlRSWV9VUkwsICIvcGljdHVyZXMiKSwgewogICAgICAgICAgICAgICAgICBpZDogdGhpcy5tb2RlID09PSAnZWRpdCcgPyB0aGlzLnBpY3R1cmUuaWQgOiBudWxsLAogICAgICAgICAgICAgICAgICB0aXRsZTogdGhpcy5waWNfdGl0bGUsCiAgICAgICAgICAgICAgICAgIGZpbGVuYW1lOiB0aGlzLnBpY19maWxlbmFtZSwKICAgICAgICAgICAgICAgICAgaW5mb3JtYXRpb246IHRoaXMucGljX2luZm9ybWF0aW9uLAogICAgICAgICAgICAgICAgICBzaXplOiB0aGlzLnBpY19zaXplLAogICAgICAgICAgICAgICAgICBtb2RlOiB0aGlzLm1vZGUKICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgaGVhZGVyczogYXV0aEhlYWRlcigpCiAgICAgICAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZnVuYy1uYW1lcwogICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICAgICAgfSwgMTAwMCk7CgogICAgICAgICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goJy9nYWxsZXJ5Jyk7CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMyLmFsZXJ0cy5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLm1lc3NhZ2UsCiAgICAgICAgICAgICAgICAgICAgICBoYXNFcnJvcjogdHJ1ZQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQucHJldiA9IDU7CiAgICAgICAgICAgICAgICBfY29udGV4dC50MCA9IF9jb250ZXh0WyJjYXRjaCJdKDApOwogICAgICAgICAgICAgICAgdGhpcy5hbGVydHMucHVzaCh7CiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IF9jb250ZXh0LnQwLnJlc3BvbnNlLmRhdGEubWVzc2FnZSwKICAgICAgICAgICAgICAgICAgaGFzRXJyb3I6IHRydWUKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlLCB0aGlzLCBbWzAsIDVdXSk7CiAgICAgIH0pKTsKCiAgICAgIGZ1bmN0aW9uIG9uU3VibWl0KCkgewogICAgICAgIHJldHVybiBfb25TdWJtaXQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgfQoKICAgICAgcmV0dXJuIG9uU3VibWl0OwogICAgfSgpCiAgfQp9Ow=="},{"version":3,"sources":["Picture.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"lightbox fixed w-screen h-screen xl:p-16 xl:px-48 lg:p-10 lg:px-24 md:p-6 md:px-20 p-4 px-16 top-0 left-0\" @mousedown.self=\"closeLightbox\">\n    <Alerts :alerts=\"alerts\"/>\n    <div class=\"lb-container w-full h-full flex lg:flex-row flex-col justify-center\">\n      <div class=\"overflow-x-auto flex-1 flex-grow max-w-full max-h-full bg-white rounded relative text-center relative\" v-if=\"(typeof this.picture === 'undefined')\">\n        <div class=\"absolute top30 w-full\">\n          <span class=\"w-full text-6xl text-blue-500 font-bold inline-block\">404</span>\n          <span class=\"w-full inline-block\">Oups ! L'image recherchée est introuvable</span>\n          <span class=\"w-full inline-block text-xs\">Elle a surement été volée par un Blood Raven...</span>\n        </div>\n      </div>\n      <div class=\"overflow-x-auto flex-1 flex-grow max-w-full max-h-full bg-white rounded-l relative\" v-if=\"(typeof this.picture !== 'undefined')\">\n        <div class=\"bg-white\" v-if=\"['edit', 'add'].includes(mode)\">\n          <FileUpload @uploadedFile=\"getUploadedFile\" ref=\"fileUpload\"/>\n        </div>\n        <div class=\"overflow-hidden bg-gray-300 bg-contain bg-no-repeat lb-picture w-full\" v-if=\"['edit', 'show'].includes(mode)\" v-bind:style=\"{ height: (mode === 'edit' ? '82%' : '100%'), backgroundImage: 'url(' + (picture ? pictureUrl(picture.filename) : '') + ')' }\">\n          <div class=\"w-full font-bold m-1 text-gray-900 mx-2\" v-if=\"mode === 'edit'\">Image remplacée</div>\n        </div>\n      </div>\n      <div v-bind:class=\"['lb-information flex-1 xl:max-w-md lg:max-w-xs w-full border border-solid border-gray-300 md:p-4 p-1 pt-4 overflow-auto rounded-r relative', (picture.active === false ? 'bg-red-300': 'bg-white')]\" v-if=\"(typeof this.picture !== 'undefined')\">\n        <button class=\"py-1 px-2 text-xs absolute top-0 right-0 hover:text-blue-700\" v-if=\"loggedIn && mode === 'show' && picture\" @click=\"editPicture(picture.id)\">\n          Modifier\n        </button>\n        <span class=\"lightbox-title block w-full text-center font-bold md:text-4xl sm:text-2xl\" v-if=\"mode === 'show' && picture && picture.title\">{{ picture.title }}</span>\n        <p id=\"pic_information\" class=\"mt-4\" v-if=\"picture && picture.information && mode === 'show'\" v-html=\"picture.information\"></p>\n        <form v-if=\"['edit', 'add'].includes(mode)\" class=\"relative min-h-full\" @submit.prevent=\"onSubmit\" ref=\"pictureForm\">\n          <input type=\"hidden\" v-model=\"pic_filename\">\n          <input type=\"text\" v-model=\"pic_title\" class=\"w-full font-bold text-4xl border-0 border-b border-gray-300\" placeholder=\"Saisir un titre\">\n          <TextEditor v-model=\"pic_information\" />\n          <div class=\"text-left text-gray-500\">\n            <label for=\"pic-size\">Taille de la miniature</label>\n            <select id=\"pic-size\" v-model=\"pic_size\" class=\"border-0 border-b border-gray-300 ml-8\">\n              <option value=\"small\">Petite</option>\n              <option value=\"medium\">Moyenne</option>\n              <option value=\"large\">Grande</option>\n            </select>\n          </div>\n        </form>\n        <button v-if=\"['edit', 'add'].includes(mode)\" class=\"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline absolute bottom-0 right-0 m-2\" @click=\"initSubmit\">\n          Enregistrer\n        </button>\n      </div>\n    </div>\n    <div class=\"lb-chevron-left\" @click.self=\"showPicture(picture.id, -1)\" v-if=\"mode === 'show' && (typeof this.picture !== 'undefined')\"></div>\n    <div class=\"lb-chevron-right\" @click.self=\"showPicture(picture.id, 1)\" v-if=\"mode === 'show' && (typeof this.picture !== 'undefined')\"></div>\n    <div class=\"lb-cross\" @click.self=\"closeLightbox\"></div>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport FileUpload from './FileUpload.vue';\nimport authHeader from '../services/authHeader';\nimport Alerts from '@/components/Alerts.vue';\nimport TextEditor from '@/components/TextEditor.vue';\nimport bus from '../../bus';\n\nexport default {\n  name: 'Picture',\n  components: {\n    FileUpload, Alerts, TextEditor,\n  },\n  data() {\n    return {\n      pictures: [],\n      picture: {\n        id: '', title: '', filename: '', information: '',\n      },\n      mode: 'add',\n      pic_filename: '',\n      pic_title: '',\n      pic_information: '',\n      pic_size: 'small',\n      alerts: [],\n    };\n  },\n  computed: {\n    loggedIn() {\n      return this.$store.state.auth.status.loggedIn;\n    },\n  },\n  watch: {\n    $route() {\n      const self = this;\n      self.fetchPictures();\n    },\n  },\n  created() {\n    this.setMode();\n    if (this.mode !== 'add') { this.fetchPictures(); }\n  },\n  methods: {\n    // Display pictures from the upload directory\n    pictureUrl(filename) {\n      if (filename) {\n        try {\n          return `${process.env.VUE_APP_S3_EXTERNAL_BASE_URL}/pictures/${filename}`;\n        } catch (e) {\n          if (e.name !== 'ModuleNotFoundError') throw e; // handle false-positives\n          return require('../assets/logo.png');\n        }\n      }\n      return require('../assets/logo.png');\n    },\n\n    // Navigate to the gallery\n    closeLightbox() {\n      this.$router.push('/gallery');\n    },\n\n    // Navigate to the same layout but in edit mode\n    editPicture(currentPictureId) {\n      this.mode = 'edit';\n      this.$router.push(`/picture/${currentPictureId}#edit`);\n    },\n\n    // Navigate to next or previous picture\n    showPicture(currentPictureId, increment) {\n      currentPictureId = Number(currentPictureId);\n\n      const maxPictureId = this.pictures[this.pictures.length - 1].id;\n      const minPictureId = this.pictures[0].id;\n\n      let nextPictureId = 0;\n\n      // If a picture is missing (eg : has been deleted completely in db) or is disabled and user is not logged in, skip to the n+1/-1 next picture\n      if (currentPictureId < minPictureId) {\n        nextPictureId = maxPictureId;\n      } else if (currentPictureId > maxPictureId) {\n        nextPictureId = minPictureId;\n      } else {\n        const nextPic = this.pictures.find(picture => picture.id === Number(currentPictureId + increment));\n\n        if (typeof nextPic === 'undefined' || (typeof nextPic !== 'undefined' && !this.loggedIn && nextPic.active === false)) {\n          this.showPicture(currentPictureId + increment, increment);\n          return;\n        }\n        nextPictureId = nextPic.id;\n      }\n\n      this.$router.push(`/picture/${nextPictureId}`);\n    },\n\n    // Set the mode of the layout\n    setMode() {\n      if (this.$route.params.id === 'add') {\n        this.mode = 'add';\n      } else if (this.$route.hash === '#edit') {\n        this.mode = 'edit';\n      } else {\n        this.mode = 'show';\n      }\n    },\n\n    // Fetch pictures from the database\n    fetchPictures() {\n      const options = (!this.loggedIn) ? { active: true } : {};\n      axios.get(`${process.env.VUE_APP_API_ENTRY_URL}/pictures`, {\n        params: options,\n      }).then((response) => {\n        this.pictures = response.data;\n\n        this.picture = this.pictures.find(picture => (this.loggedIn && picture.id === Number(this.$route.params.id))\n          || (!this.loggedIn && picture.active === true && picture.id === Number(this.$route.params.id)));\n\n        if (typeof this.picture !== 'undefined') {\n          this.pic_filename = this.picture.filename;\n          this.pic_title = this.picture.title;\n          this.pic_information = this.picture.information;\n          this.pic_size = this.picture.size;\n        } else if (this.mode !== 'add') {\n          // Display 404\n        } else if (typeof this.picture !== 'undefined' && !this.loggedIn && this.picture.active === false) {\n          this.showPicture(this.picture.id + 1, 1);\n        }\n      });\n    },\n\n    // display the uploaded file\n    getUploadedFile(value) {\n      // If false, means the post is updated without uploading a new picture\n      if (value !== false) {\n        this.pic_filename = value;\n      }\n      this.onSubmit();\n    },\n\n    initSubmit() {\n      bus.$emit('fileUploadSubmit');\n    },\n\n    // Add or edit a picture\n    async onSubmit() {\n      try {\n        await axios.post(`${process.env.VUE_APP_API_ENTRY_URL}/pictures`, {\n          id: (this.mode === 'edit' ? this.picture.id : null), title: this.pic_title, filename: this.pic_filename, information: this.pic_information, size: this.pic_size, mode: this.mode,\n        }, { headers: authHeader() }).then((response) => {\n          if (response.status === 200) {\n            // eslint-disable-next-line func-names\n            setTimeout(() => true, 1000);\n            this.$router.push('/gallery');\n          } else {\n            this.alerts.push({ message: response.message, hasError: true });\n          }\n        });\n      } catch (err) {\n        this.alerts.push({ message: err.response.data.message, hasError: true });\n      }\n    },\n  },\n};\n</script>\n\n<style>\n  .lightbox {\n    background-color: rgba(0, 0, 0, 0.5);\n  }\n\n  .lb-picture{\n    background-position: 50% 50%;\n  }\n\n  .lb-chevron-left{\n    position:fixed;\n    top: 50%;\n    left:15px;\n    height:32px;\n    width:32px;\n    background: url('../assets/icons/chevron-left.png');\n    cursor:pointer;\n  }\n\n  .lb-chevron-right{\n    position:fixed;\n    top: 50%;\n    right:15px;\n    height:32px;\n    width:32px;\n    background: url('../assets/icons/chevron-right.png');\n    cursor:pointer;\n  }\n\n  .lb-cross{\n    position:fixed;\n    top:15px;\n    right:15px;\n    height:32px;\n    width:32px;\n    background: url('../assets/icons/cross.png');\n    cursor:pointer;\n  }\n\n  textarea{\n    min-height:150px;\n  }\n\n  .top30{\n    top:30%;\n  }\n\n/* TODO */\nul[data-type=\"todo_list\"] {\n  padding-left: 0;\n}\nli[data-type=\"todo_item\"] {\n  display: flex;\n  flex-direction: row;\n}\n.todo-checkbox {\n  border: 2px solid black;\n  height: 0.9em;\n  width: 0.9em;\n  box-sizing: border-box;\n  margin-right: 10px;\n  margin-top: 0.3rem;\n  user-select: none;\n  -webkit-user-select: none;\n  cursor: pointer;\n  border-radius: 0.2em;\n  background-color: transparent;\n  transition: 0.4s background;\n}\n.todo-content {\n  flex: 1;\n}\n.todo-content > p:last-of-type {\n  margin-bottom: 0;\n}\n.todo-content > ul[data-type=\"todo_list\"] {\n  margin: .5rem 0;\n}\n\nli[data-done=\"true\"] > .todo-content > p {\n  text-decoration: line-through;\n}\n\nli[data-done=\"true\"] > .todo-checkbox {\n  background-color: black;\n}\nli[data-done=\"false\"] {\n  text-decoration: none;\n}\n\n/* indent */\np[data-indent=\"1\"] {\n  margin-left: 30px!important;\n}\n\n/* text align */\np[data-text-align=\"center\"] {\n  text-align:center;\n}\np[data-text-align=\"right\"] {\n  text-align:right;\n}\np[data-text-align=\"justify\"] {\n  text-align:justify;\n}\n\nul{\n  list-style:disc !important;\n}\n\nol{\n  list-style:decimal !important;\n}\n\n#pic_information h3{\n  font-size:25px;\n  font-weight: bold;\n  margin-bottom:10px;\n}\n\n#pic_information p{\n  margin-bottom: 5px;\n}\n</style>\n"],"sourceRoot":"src/components"}]}