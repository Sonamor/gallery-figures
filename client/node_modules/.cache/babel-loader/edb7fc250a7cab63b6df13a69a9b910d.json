{"remainingRequest":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\src\\router.js","dependencies":[{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\src\\router.js","mtime":1583714867971},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKCi8qIGVzbGludC1kaXNhYmxlIGltcG9ydC9wcmVmZXItZGVmYXVsdC1leHBvcnQgKi8KaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgUm91dGVyIGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgUGljdHVyZSBmcm9tICcuL3ZpZXdzL1BpY3R1cmUudnVlJzsKaW1wb3J0IEZpZ3VyZSBmcm9tICcuL3ZpZXdzL0ZpZ3VyZS52dWUnOwppbXBvcnQgSG9tZSBmcm9tICcuL3ZpZXdzL0hvbWUudnVlJzsKaW1wb3J0IExvZ2luQmlzIGZyb20gJy4vdmlld3MvTG9naW5CaXMudnVlJzsKVnVlLnVzZShSb3V0ZXIpOwp2YXIgcm91dGVyID0gbmV3IFJvdXRlcih7CiAgbW9kZTogJ2hpc3RvcnknLAogIGJhc2U6IHByb2Nlc3MuZW52LkJBU0VfVVJMLAogIHJvdXRlczogW3sKICAgIHBhdGg6ICcvJywKICAgIG5hbWU6ICdob21lJywKICAgIGNvbXBvbmVudDogSG9tZQogIH0sIHsKICAgIHBhdGg6ICcvaG9tZScsCiAgICBjb21wb25lbnQ6IEhvbWUKICB9LCB7CiAgICBwYXRoOiAnL2xvZ2luYmlzJywKICAgIGNvbXBvbmVudDogTG9naW5CaXMKICB9LCB7CiAgICBwYXRoOiAnL3Byb2ZpbGUnLAogICAgbmFtZTogJ3Byb2ZpbGUnLAogICAgLy8gbGF6eS1sb2FkZWQKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCcuL3ZpZXdzL1Byb2ZpbGUudnVlJyk7CiAgICB9CiAgfSwgewogICAgcGF0aDogJy9hZG1pbicsCiAgICBuYW1lOiAnYWRtaW4nLAogICAgLy8gbGF6eS1sb2FkZWQKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCcuL3ZpZXdzL0JvYXJkQWRtaW4udnVlJyk7CiAgICB9CiAgfSwgewogICAgcGF0aDogJy9tb2QnLAogICAgbmFtZTogJ21vZGVyYXRvcicsCiAgICAvLyBsYXp5LWxvYWRlZAogICAgY29tcG9uZW50OiBmdW5jdGlvbiBjb21wb25lbnQoKSB7CiAgICAgIHJldHVybiBpbXBvcnQoJy4vdmlld3MvQm9hcmRNb2RlcmF0b3IudnVlJyk7CiAgICB9CiAgfSwgewogICAgcGF0aDogJy91c2VyJywKICAgIG5hbWU6ICd1c2VyJywKICAgIC8vIGxhenktbG9hZGVkCiAgICBjb21wb25lbnQ6IGZ1bmN0aW9uIGNvbXBvbmVudCgpIHsKICAgICAgcmV0dXJuIGltcG9ydCgnLi92aWV3cy9Cb2FyZFVzZXIudnVlJyk7CiAgICB9CiAgfSwgewogICAgcGF0aDogJy9maWd1cmUnLAogICAgbmFtZTogJ2ZpZ3VyZScsCiAgICBjb21wb25lbnQ6IEZpZ3VyZQogIH0sIHsKICAgIHBhdGg6ICcvcGljdHVyZS86aWQnLAogICAgbmFtZTogJ3BpY3R1cmVhJywKICAgIGNvbXBvbmVudDogUGljdHVyZQogIH0sIHsKICAgIHBhdGg6ICcvcGljdHVyZS9hZGQnLAogICAgbmFtZTogJ3BpY3R1cmVfYWRkJywKICAgIGNvbXBvbmVudDogUGljdHVyZQogIH0sIHsKICAgIHBhdGg6ICcvbG9naW4nLAogICAgbmFtZTogJ2xvZ2luJywKICAgIGNvbXBvbmVudDogZnVuY3Rpb24gY29tcG9uZW50KCkgewogICAgICByZXR1cm4gaW1wb3J0KCcuL3ZpZXdzL0xvZ2luLnZ1ZScpOwogICAgfQogIH1dCn0pOwpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICB2YXIgcHVibGljUGFnZXMgPSBbJy9sb2dpbicsICcvaG9tZScsICcvZmlndXJlJ107CiAgdmFyIGF1dGhSZXF1aXJlZCA9ICFwdWJsaWNQYWdlcy5pbmNsdWRlcyh0by5wYXRoKTsKICB2YXIgbG9nZ2VkSW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndXNlcicpOyAvLyB0cnlpbmcgdG8gYWNjZXNzIGEgcmVzdHJpY3RlZCBwYWdlICsgbm90IGxvZ2dlZCBpbgogIC8vIHJlZGlyZWN0IHRvIGxvZ2luIHBhZ2UKCiAgaWYgKGF1dGhSZXF1aXJlZCAmJiAhbG9nZ2VkSW4pIHsKICAgIG5leHQoJy9sb2dpbicpOwogIH0gZWxzZSB7CiAgICBuZXh0KCk7CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["C:/Users/ayato/Documents/GitHub/gallery-map-car/client/src/router.js"],"names":["Vue","Router","Picture","Figure","Home","LoginBis","use","router","mode","base","process","env","BASE_URL","routes","path","name","component","beforeEach","to","from","next","publicPages","authRequired","includes","loggedIn","localStorage","getItem"],"mappings":";;;AAAA;AACA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,MAAP,MAAmB,oBAAnB;AAEA,OAAOC,IAAP,MAAiB,kBAAjB;AACA,OAAOC,QAAP,MAAqB,sBAArB;AAEAL,GAAG,CAACM,GAAJ,CAAQL,MAAR;AAEA,IAAMM,MAAM,GAAG,IAAIN,MAAJ,CAAW;AACxBO,EAAAA,IAAI,EAAE,SADkB;AAExBC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFM;AAGxBC,EAAAA,MAAM,EAAE,CACN;AACEC,IAAAA,IAAI,EAAE,GADR;AAEEC,IAAAA,IAAI,EAAE,MAFR;AAGEC,IAAAA,SAAS,EAAEZ;AAHb,GADM,EAMN;AACEU,IAAAA,IAAI,EAAE,OADR;AAEEE,IAAAA,SAAS,EAAEZ;AAFb,GANM,EAUN;AACEU,IAAAA,IAAI,EAAE,WADR;AAEEE,IAAAA,SAAS,EAAEX;AAFb,GAVM,EAcN;AACES,IAAAA,IAAI,EAAE,UADR;AAEEC,IAAAA,IAAI,EAAE,SAFR;AAGE;AACAC,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,qBAAP,CAAN;AAAA;AAJb,GAdM,EAoBN;AACEF,IAAAA,IAAI,EAAE,QADR;AAEEC,IAAAA,IAAI,EAAE,OAFR;AAGE;AACAC,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,wBAAP,CAAN;AAAA;AAJb,GApBM,EA0BN;AACEF,IAAAA,IAAI,EAAE,MADR;AAEEC,IAAAA,IAAI,EAAE,WAFR;AAGE;AACAC,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,4BAAP,CAAN;AAAA;AAJb,GA1BM,EAgCN;AACEF,IAAAA,IAAI,EAAE,OADR;AAEEC,IAAAA,IAAI,EAAE,MAFR;AAGE;AACAC,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,uBAAP,CAAN;AAAA;AAJb,GAhCM,EAsCN;AACEF,IAAAA,IAAI,EAAE,SADR;AAEEC,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,SAAS,EAAEb;AAHb,GAtCM,EA2CN;AACEW,IAAAA,IAAI,EAAE,cADR;AAEEC,IAAAA,IAAI,EAAE,UAFR;AAGEC,IAAAA,SAAS,EAAEd;AAHb,GA3CM,EAgDN;AACEY,IAAAA,IAAI,EAAE,cADR;AAEEC,IAAAA,IAAI,EAAE,aAFR;AAGEC,IAAAA,SAAS,EAAEd;AAHb,GAhDM,EAqDN;AACEY,IAAAA,IAAI,EAAE,QADR;AAEEC,IAAAA,IAAI,EAAE,OAFR;AAGEC,IAAAA,SAAS,EAAE;AAAA,aAAM,OAAO,mBAAP,CAAN;AAAA;AAHb,GArDM;AAHgB,CAAX,CAAf;AAgEAT,MAAM,CAACU,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAMC,WAAW,GAAG,CAAC,QAAD,EAAW,OAAX,EAAoB,SAApB,CAApB;AACA,MAAMC,YAAY,GAAG,CAACD,WAAW,CAACE,QAAZ,CAAqBL,EAAE,CAACJ,IAAxB,CAAtB;AACA,MAAMU,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAjB,CAHoC,CAKpC;AACA;;AACA,MAAIJ,YAAY,IAAI,CAACE,QAArB,EAA+B;AAC7BJ,IAAAA,IAAI,CAAC,QAAD,CAAJ;AACD,GAFD,MAEO;AACLA,IAAAA,IAAI;AACL;AACF,CAZD;AAcA,eAAeb,MAAf","sourcesContent":["/* eslint-disable import/prefer-default-export */\nimport Vue from 'vue';\nimport Router from 'vue-router';\nimport Picture from './views/Picture.vue';\nimport Figure from './views/Figure.vue';\n\nimport Home from './views/Home.vue';\nimport LoginBis from './views/LoginBis.vue';\n\nVue.use(Router);\n\nconst router = new Router({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes: [\n    {\n      path: '/',\n      name: 'home',\n      component: Home,\n    },\n    {\n      path: '/home',\n      component: Home,\n    },\n    {\n      path: '/loginbis',\n      component: LoginBis,\n    },\n    {\n      path: '/profile',\n      name: 'profile',\n      // lazy-loaded\n      component: () => import('./views/Profile.vue'),\n    },\n    {\n      path: '/admin',\n      name: 'admin',\n      // lazy-loaded\n      component: () => import('./views/BoardAdmin.vue'),\n    },\n    {\n      path: '/mod',\n      name: 'moderator',\n      // lazy-loaded\n      component: () => import('./views/BoardModerator.vue'),\n    },\n    {\n      path: '/user',\n      name: 'user',\n      // lazy-loaded\n      component: () => import('./views/BoardUser.vue'),\n    },\n    {\n      path: '/figure',\n      name: 'figure',\n      component: Figure,\n    },\n    {\n      path: '/picture/:id',\n      name: 'picturea',\n      component: Picture,\n    },\n    {\n      path: '/picture/add',\n      name: 'picture_add',\n      component: Picture,\n    },\n    {\n      path: '/login',\n      name: 'login',\n      component: () => import('./views/Login.vue'),\n    },\n  ],\n});\n\nrouter.beforeEach((to, from, next) => {\n  const publicPages = ['/login', '/home', '/figure'];\n  const authRequired = !publicPages.includes(to.path);\n  const loggedIn = localStorage.getItem('user');\n\n  // trying to access a restricted page + not logged in\n  // redirect to login page\n  if (authRequired && !loggedIn) {\n    next('/login');\n  } else {\n    next();\n  }\n});\n\nexport default router;\n"]}]}