{"remainingRequest":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\src\\router.js","dependencies":[{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\src\\router.js","mtime":1591397711927},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBQaWN0dXJlIGZyb20gJy4vdmlld3MvUGljdHVyZS52dWUnOwppbXBvcnQgR2FsbGVyeSBmcm9tICcuL3ZpZXdzL0dhbGxlcnkudnVlJzsKaW1wb3J0IExvZ2luIGZyb20gJy4vdmlld3MvTG9naW4udnVlJzsKaW1wb3J0IFBhZ2VOb3RGb3VuZCBmcm9tICcuL3ZpZXdzL1BhZ2VOb3RGb3VuZC52dWUnOwpWdWUudXNlKFJvdXRlcik7CnZhciByb3V0ZXIgPSBuZXcgUm91dGVyKHsKICBtb2RlOiAnaGlzdG9yeScsCiAgcm91dGVzOiBbewogICAgLy8gSG9tZXBhZ2UKICAgIHBhdGg6ICcvJywKICAgIG5hbWU6ICdob21lJywKICAgIGNvbXBvbmVudDogR2FsbGVyeQogIH0sIHsKICAgIC8vIEhvbWVwYWdlCiAgICBwYXRoOiAnL2hvbWUnLAogICAgY29tcG9uZW50OiBHYWxsZXJ5CiAgfSwgewogICAgLy8gR2FsbGVyeQogICAgcGF0aDogJy9nYWxsZXJ5JywKICAgIG5hbWU6ICdnYWxsZXJ5JywKICAgIGNvbXBvbmVudDogR2FsbGVyeQogIH0sIHsKICAgIC8vIFNlbGVjdGVkIHBpY3R1cmUKICAgIHBhdGg6ICcvcGljdHVyZS86aWQnLAogICAgbmFtZTogJ3BpY3R1cmUnLAogICAgY29tcG9uZW50OiBQaWN0dXJlCiAgfSwgewogICAgLy8gQWRkaW5nIHBpY3R1cmUgcGFnZQogICAgcGF0aDogJy9waWN0dXJlL2FkZCcsCiAgICBuYW1lOiAncGljdHVyZV9hZGQnLAogICAgY29tcG9uZW50OiBQaWN0dXJlCiAgfSwgewogICAgLy8gTG9naW4gcGFnZQogICAgcGF0aDogJy9sb2dpbicsCiAgICBuYW1lOiAnbG9naW4nLAogICAgY29tcG9uZW50OiBMb2dpbgogIH0sIHsKICAgIHBhdGg6ICcqJywKICAgIG5hbWU6ICdwYWdlX25vdF9mb3VuZCcsCiAgICBjb21wb25lbnQ6IFBhZ2VOb3RGb3VuZAogIH1dCn0pOyAvLyBCZWZvcmUgcm91dGluZywgY2hlY2sgaWYgdGhlIHBhZ2UgcmVxdWlyZXMgYSBsb2dpbgoKcm91dGVyLmJlZm9yZUVhY2goZnVuY3Rpb24gKHRvLCBmcm9tLCBuZXh0KSB7CiAgdmFyIHByaXZhdGVQYWdlcyA9IFsnL3BpY3R1cmUvYWRkJ107CiAgdmFyIGF1dGhSZXF1aXJlZCA9IHByaXZhdGVQYWdlcy5pbmNsdWRlcyh0by5wYXRoKSB8fCB0by5oYXNoID09PSAnI2VkaXQnOwogIHZhciBsb2dnZWRJbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd1c2VyJyk7IC8vIHRyeWluZyB0byBhY2Nlc3MgYSByZXN0cmljdGVkIHBhZ2UgYW5kIGNoZWNrIGlmIGxvZ2dlZCBpbgogIC8vIGlmIGZhbHNlIHJlZGlyZWN0IHRvIGxvZ2luIHBhZ2UKCiAgaWYgKGF1dGhSZXF1aXJlZCAmJiAhbG9nZ2VkSW4pIHsKICAgIG5leHQoJy9sb2dpbicpOwogIH0gZWxzZSB7CiAgICBuZXh0KCk7CiAgfQp9KTsKZXhwb3J0IGRlZmF1bHQgcm91dGVyOw=="},{"version":3,"sources":["C:/Users/ayato/Documents/GitHub/gallery-map-car/client/src/router.js"],"names":["Vue","Router","Picture","Gallery","Login","PageNotFound","use","router","mode","routes","path","name","component","beforeEach","to","from","next","privatePages","authRequired","includes","hash","loggedIn","localStorage","getItem"],"mappings":";AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AACA,OAAOC,YAAP,MAAyB,0BAAzB;AAEAL,GAAG,CAACM,GAAJ,CAAQL,MAAR;AAEA,IAAMM,MAAM,GAAG,IAAIN,MAAJ,CAAW;AACxBO,EAAAA,IAAI,EAAE,SADkB;AAExBC,EAAAA,MAAM,EAAE,CACN;AACE;AACAC,IAAAA,IAAI,EAAE,GAFR;AAGEC,IAAAA,IAAI,EAAE,MAHR;AAIEC,IAAAA,SAAS,EAAET;AAJb,GADM,EAON;AACE;AACAO,IAAAA,IAAI,EAAE,OAFR;AAGEE,IAAAA,SAAS,EAAET;AAHb,GAPM,EAYN;AACE;AACAO,IAAAA,IAAI,EAAE,UAFR;AAGEC,IAAAA,IAAI,EAAE,SAHR;AAIEC,IAAAA,SAAS,EAAET;AAJb,GAZM,EAkBN;AACE;AACAO,IAAAA,IAAI,EAAE,cAFR;AAGEC,IAAAA,IAAI,EAAE,SAHR;AAIEC,IAAAA,SAAS,EAAEV;AAJb,GAlBM,EAwBN;AACE;AACAQ,IAAAA,IAAI,EAAE,cAFR;AAGEC,IAAAA,IAAI,EAAE,aAHR;AAIEC,IAAAA,SAAS,EAAEV;AAJb,GAxBM,EA8BN;AACE;AACAQ,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,IAAI,EAAE,OAHR;AAIEC,IAAAA,SAAS,EAAER;AAJb,GA9BM,EAoCN;AACEM,IAAAA,IAAI,EAAE,GADR;AAEEC,IAAAA,IAAI,EAAE,gBAFR;AAGEC,IAAAA,SAAS,EAAEP;AAHb,GApCM;AAFgB,CAAX,CAAf,C,CA8CA;;AACAE,MAAM,CAACM,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAMC,YAAY,GAAG,CAAC,cAAD,CAArB;AACA,MAAMC,YAAY,GAAID,YAAY,CAACE,QAAb,CAAsBL,EAAE,CAACJ,IAAzB,KAAkCI,EAAE,CAACM,IAAH,KAAY,OAApE;AACA,MAAMC,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAjB,CAHoC,CAKpC;AACA;;AACA,MAAIL,YAAY,IAAI,CAACG,QAArB,EAA+B;AAC7BL,IAAAA,IAAI,CAAC,QAAD,CAAJ;AACD,GAFD,MAEO;AACLA,IAAAA,IAAI;AACL;AACF,CAZD;AAcA,eAAeT,MAAf","sourcesContent":["import Vue from 'vue';\nimport Router from 'vue-router';\nimport Picture from './views/Picture.vue';\nimport Gallery from './views/Gallery.vue';\nimport Login from './views/Login.vue';\nimport PageNotFound from './views/PageNotFound.vue';\n\nVue.use(Router);\n\nconst router = new Router({\n  mode: 'history',\n  routes: [\n    {\n      // Homepage\n      path: '/',\n      name: 'home',\n      component: Gallery,\n    },\n    {\n      // Homepage\n      path: '/home',\n      component: Gallery,\n    },\n    {\n      // Gallery\n      path: '/gallery',\n      name: 'gallery',\n      component: Gallery,\n    },\n    {\n      // Selected picture\n      path: '/picture/:id',\n      name: 'picture',\n      component: Picture,\n    },\n    {\n      // Adding picture page\n      path: '/picture/add',\n      name: 'picture_add',\n      component: Picture,\n    },\n    {\n      // Login page\n      path: '/login',\n      name: 'login',\n      component: Login,\n    },\n    {\n      path: '*',\n      name: 'page_not_found',\n      component: PageNotFound,\n    },\n  ],\n});\n\n// Before routing, check if the page requires a login\nrouter.beforeEach((to, from, next) => {\n  const privatePages = ['/picture/add'];\n  const authRequired = (privatePages.includes(to.path) || to.hash === '#edit');\n  const loggedIn = localStorage.getItem('user');\n\n  // trying to access a restricted page and check if logged in\n  // if false redirect to login page\n  if (authRequired && !loggedIn) {\n    next('/login');\n  } else {\n    next();\n  }\n});\n\nexport default router;\n"]}]}