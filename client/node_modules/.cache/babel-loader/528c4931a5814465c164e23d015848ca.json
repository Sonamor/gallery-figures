{"remainingRequest":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\thread-loader\\dist\\cjs.js!C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\src\\router.js","dependencies":[{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\src\\router.js","mtime":1584121664506},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\ayato\\Documents\\GitHub\\gallery-map-car\\client\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5jbHVkZXMiOwoKLyogZXNsaW50LWRpc2FibGUgaW1wb3J0L3ByZWZlci1kZWZhdWx0LWV4cG9ydCAqLwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmltcG9ydCBSb3V0ZXIgZnJvbSAndnVlLXJvdXRlcic7CmltcG9ydCBQaWN0dXJlIGZyb20gJy4vdmlld3MvUGljdHVyZS52dWUnOwppbXBvcnQgR2FsbGVyeSBmcm9tICcuL3ZpZXdzL0dhbGxlcnkudnVlJzsKaW1wb3J0IExvZ2luIGZyb20gJy4vdmlld3MvTG9naW4udnVlJzsKVnVlLnVzZShSb3V0ZXIpOwp2YXIgcm91dGVyID0gbmV3IFJvdXRlcih7CiAgbW9kZTogJ2hpc3RvcnknLAogIGJhc2U6IHByb2Nlc3MuZW52LkJBU0VfVVJMLAogIHJvdXRlczogW3sKICAgIC8vIEhvbWVwYWdlCiAgICBwYXRoOiAnLycsCiAgICBuYW1lOiAnaG9tZScsCiAgICBjb21wb25lbnQ6IEdhbGxlcnkKICB9LCB7CiAgICAvLyBIb21lcGFnZQogICAgcGF0aDogJy9ob21lJywKICAgIGNvbXBvbmVudDogR2FsbGVyeQogIH0sIHsKICAgIC8vIEdhbGxlcnkKICAgIHBhdGg6ICcvZ2FsbGVyeScsCiAgICBuYW1lOiAnZ2FsbGVyeScsCiAgICBjb21wb25lbnQ6IEdhbGxlcnkKICB9LCB7CiAgICAvLyBTZWxlY3RlZCBwaWN0dXJlCiAgICBwYXRoOiAnL3BpY3R1cmUvOmlkJywKICAgIG5hbWU6ICdwaWN0dXJlYScsCiAgICBjb21wb25lbnQ6IFBpY3R1cmUKICB9LCB7CiAgICAvLyBBZGRpbmcgcGljdHVyZSBwYWdlCiAgICBwYXRoOiAnL3BpY3R1cmUvYWRkJywKICAgIG5hbWU6ICdwaWN0dXJlX2FkZCcsCiAgICBjb21wb25lbnQ6IFBpY3R1cmUKICB9LCB7CiAgICAvLyBMb2dpbiBwYWdlCiAgICBwYXRoOiAnL2xvZ2luJywKICAgIG5hbWU6ICdsb2dpbicsCiAgICBjb21wb25lbnQ6IExvZ2luCiAgfV0KfSk7IC8vIEJlZm9yZSByb3V0aW5nLCBjaGVjayBpZiB0aGUgcGFnZSByZXF1aXJlcyBhIGxvZ2luCgpyb3V0ZXIuYmVmb3JlRWFjaChmdW5jdGlvbiAodG8sIGZyb20sIG5leHQpIHsKICB2YXIgcHJpdmF0ZVBhZ2VzID0gWycvcGljdHVyZS9hZGQnXTsKICB2YXIgYXV0aFJlcXVpcmVkID0gcHJpdmF0ZVBhZ2VzLmluY2x1ZGVzKHRvLnBhdGgpIHx8IHRvLmhhc2ggPT09ICcjZWRpdCc7CiAgdmFyIGxvZ2dlZEluID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ3VzZXInKTsgLy8gdHJ5aW5nIHRvIGFjY2VzcyBhIHJlc3RyaWN0ZWQgcGFnZSBhbmQgY2hlY2sgaWYgbG9nZ2VkIGluCiAgLy8gaWYgZmFsc2UgcmVkaXJlY3QgdG8gbG9naW4gcGFnZQoKICBpZiAoYXV0aFJlcXVpcmVkICYmICFsb2dnZWRJbikgewogICAgbmV4dCgnL2xvZ2luJyk7CiAgfSBlbHNlIHsKICAgIG5leHQoKTsKICB9Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"sources":["C:/Users/ayato/Documents/GitHub/gallery-map-car/client/src/router.js"],"names":["Vue","Router","Picture","Gallery","Login","use","router","mode","base","process","env","BASE_URL","routes","path","name","component","beforeEach","to","from","next","privatePages","authRequired","includes","hash","loggedIn","localStorage","getItem"],"mappings":";;AAAA;AACA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,MAAP,MAAmB,YAAnB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,KAAP,MAAkB,mBAAlB;AAEAJ,GAAG,CAACK,GAAJ,CAAQJ,MAAR;AAEA,IAAMK,MAAM,GAAG,IAAIL,MAAJ,CAAW;AACxBM,EAAAA,IAAI,EAAE,SADkB;AAExBC,EAAAA,IAAI,EAAEC,OAAO,CAACC,GAAR,CAAYC,QAFM;AAGxBC,EAAAA,MAAM,EAAE,CACN;AACE;AACAC,IAAAA,IAAI,EAAE,GAFR;AAGEC,IAAAA,IAAI,EAAE,MAHR;AAIEC,IAAAA,SAAS,EAAEZ;AAJb,GADM,EAON;AACE;AACAU,IAAAA,IAAI,EAAE,OAFR;AAGEE,IAAAA,SAAS,EAAEZ;AAHb,GAPM,EAYN;AACE;AACAU,IAAAA,IAAI,EAAE,UAFR;AAGEC,IAAAA,IAAI,EAAE,SAHR;AAIEC,IAAAA,SAAS,EAAEZ;AAJb,GAZM,EAkBN;AACE;AACAU,IAAAA,IAAI,EAAE,cAFR;AAGEC,IAAAA,IAAI,EAAE,UAHR;AAIEC,IAAAA,SAAS,EAAEb;AAJb,GAlBM,EAwBN;AACE;AACAW,IAAAA,IAAI,EAAE,cAFR;AAGEC,IAAAA,IAAI,EAAE,aAHR;AAIEC,IAAAA,SAAS,EAAEb;AAJb,GAxBM,EA8BN;AACE;AACAW,IAAAA,IAAI,EAAE,QAFR;AAGEC,IAAAA,IAAI,EAAE,OAHR;AAIEC,IAAAA,SAAS,EAAEX;AAJb,GA9BM;AAHgB,CAAX,CAAf,C,CA0CA;;AACAE,MAAM,CAACU,UAAP,CAAkB,UAACC,EAAD,EAAKC,IAAL,EAAWC,IAAX,EAAoB;AACpC,MAAMC,YAAY,GAAG,CAAC,cAAD,CAArB;AACA,MAAMC,YAAY,GAAID,YAAY,CAACE,QAAb,CAAsBL,EAAE,CAACJ,IAAzB,KAAkCI,EAAE,CAACM,IAAH,KAAY,OAApE;AACA,MAAMC,QAAQ,GAAGC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAjB,CAHoC,CAKpC;AACA;;AACA,MAAIL,YAAY,IAAI,CAACG,QAArB,EAA+B;AAC7BL,IAAAA,IAAI,CAAC,QAAD,CAAJ;AACD,GAFD,MAEO;AACLA,IAAAA,IAAI;AACL;AACF,CAZD;AAcA,eAAeb,MAAf","sourcesContent":["/* eslint-disable import/prefer-default-export */\nimport Vue from 'vue';\nimport Router from 'vue-router';\nimport Picture from './views/Picture.vue';\nimport Gallery from './views/Gallery.vue';\nimport Login from './views/Login.vue';\n\nVue.use(Router);\n\nconst router = new Router({\n  mode: 'history',\n  base: process.env.BASE_URL,\n  routes: [\n    {\n      // Homepage\n      path: '/',\n      name: 'home',\n      component: Gallery,\n    },\n    {\n      // Homepage\n      path: '/home',\n      component: Gallery,\n    },\n    {\n      // Gallery\n      path: '/gallery',\n      name: 'gallery',\n      component: Gallery,\n    },\n    {\n      // Selected picture\n      path: '/picture/:id',\n      name: 'picturea',\n      component: Picture,\n    },\n    {\n      // Adding picture page\n      path: '/picture/add',\n      name: 'picture_add',\n      component: Picture,\n    },\n    {\n      // Login page\n      path: '/login',\n      name: 'login',\n      component: Login,\n    },\n  ],\n});\n\n// Before routing, check if the page requires a login\nrouter.beforeEach((to, from, next) => {\n  const privatePages = ['/picture/add'];\n  const authRequired = (privatePages.includes(to.path) || to.hash === '#edit');\n  const loggedIn = localStorage.getItem('user');\n\n  // trying to access a restricted page and check if logged in\n  // if false redirect to login page\n  if (authRequired && !loggedIn) {\n    next('/login');\n  } else {\n    next();\n  }\n});\n\nexport default router;\n"]}]}